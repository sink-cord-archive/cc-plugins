(function(s,o){"use strict";var a=()=>{const t=o.findByProps("canUseEmojisEverywhere"),n=s.instead("canUseEmojisEverywhere",t,()=>!0),e=s.instead("canUseAnimatedEmojis",t,()=>!0);return()=>{n(),e()}};const{getCustomEmojiById:l}=o.findByProps("getCustomEmojiById"),{getLastSelectedGuildId:m}=o.findByProps("getLastSelectedGuildId");function f(t,n){let e=t.matchAll(/<a?:(\w+):(\d+)>/gi),r=[];for(let u of e){let i=l(u[2]);(i.guildId!=m()||i.animated||j())&&(t=t.replace(u[0],""),r.push(i.url.split("?")[0]+`?size=${n}`))}return{content:t.trim(),emojis:r}}function j(){return document.querySelector('[data-list-item-id="guildsnav___home"]').classList.contains("selected-bZ3Lue")}function c(t,n){const e=f(n.content,t);return n.content=e.content,e.emojis.length>0&&(n.content+=`
`+e.emojis.join(`
`)),n.invalidEmojis=[],n}const d=/<a?:(\w+):(\d+)>/i;var h=()=>{const t=s.before("sendMessage",o.findByProps("sendMessage"),e=>{if(e[1].content.match(d))return e[1]=c("64",e[1]),e}),n=s.before("uploadFiles",o.findByProps("uploadFiles"),e=>{if(e[3].content.match(d))return e[3]=c("64",e[3]),e});return()=>{t(),n()}},E=()=>{const t=[a(),h()];return{onUnload:()=>_.forEachRight(t,n=>n())}};return E})(cumcord.patcher,cumcord.modules.webpack);
