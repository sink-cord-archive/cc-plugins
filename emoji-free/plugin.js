(function(i,o){"use strict";var d=()=>{const e=o.findByProps("canUseEmojisEverywhere"),t=i.instead("canUseEmojisEverywhere",e,()=>!0),n=i.instead("canUseAnimatedEmojis",e,()=>!0);return()=>{t(),n()}};const{getCustomEmojiById:u}=o.findByProps("getCustomEmojiById"),{getLastSelectedGuildId:m}=o.findByProps("getLastSelectedGuildId");function a(e,t){let n=e.matchAll(/<a?:(\w+):(\d+)>/gi),c=[];for(let r of n){let s=u(r[2]);(s.guildId!=m()||s.animated||l())&&(e=e.replace(r[0],""),c.push(s.url.split("?")[0]+`?size=${t}`))}return{content:e.trim(),emojis:c}}function l(){return document.querySelector('[data-list-item-id="guildsnav___home"]').classList.contains("selected-bZ3Lue")}function j(e,t){const n=a(t[1].content,e);return t[1].content=n.content,n.emojis.length>0&&(t[1].content+=`
`+n.emojis.join(`
`)),t[1].invalidEmojis=[],t}var f=()=>i.before("sendMessage",o.findByProps("sendMessage"),e=>{debugger;if(e[1].content.match(/<a?:(\w+):(\d+)>/i))return j("64",e)}),h=()=>{const e=[d(),f()];return{onUnload:()=>_.forEachRight(e,t=>t())}};return h})(cumcord.patcher,cumcord.modules.webpack);
