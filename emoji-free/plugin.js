(function(s,o){"use strict";var u=()=>{const e=o.findByProps("canUseEmojisEverywhere"),t=s.instead("canUseEmojisEverywhere",e,()=>!0),n=s.instead("canUseAnimatedEmojis",e,()=>!0);return()=>{t(),n()}};const{getCustomEmojiById:l}=o.findByProps("getCustomEmojiById"),{getLastSelectedGuildId:m}=o.findByProps("getLastSelectedGuildId");function a(e,t){let n=e.matchAll(/<a?:(\w+):(\d+)>/gi),c=[];for(let r of n){let i=l(r[2]);(i.guildId!=m()||i.animated||f())&&(e=e.replace(r[0],""),c.push(i.url.split("?")[0]+`?size=${t}`))}return{content:e.trim(),emojis:c}}function f(){return document.querySelector('[data-list-item-id="guildsnav___home"]').classList.contains("selected-bZ3Lue")}function d(e,t){const n=a(t[1].content,e);return t[1].content=n.content,n.emojis.length>0&&(t[1].content+=`
`+n.emojis.join(`
`)),t[1].invalidEmojis=[],t}var j=()=>s.before("sendMessage",o.findByProps("sendMessage"),e=>{if(e[1].content.match(/<a?:(\w+):(\d+)>/i))return d("64",e)}),h=()=>s.before("uploadFiles",o.findByProps("uploadFiles"),e=>{const t=[e[0],e[3]];if(t[1].content.match(/<a?:(\w+):(\d+)>/i)){const n=d("64",t);return[n[0],e[1],e[2],n[1],e[4]]}}),E=()=>{const e=[u(),j(),h()];return{onUnload:()=>_.forEachRight(e,t=>t())}};return E})(cumcord.patcher,cumcord.modules.webpack);
