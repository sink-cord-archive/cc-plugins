(function(e,a,g,h,i){"use strict";var m=()=>cumcord.patcher.injectCSS(".ysink_emote_modal .ysink_emote_row{display:flex;margin-bottom:1rem}.ysink_emote_modal .ysink_emote_row:last-child{margin-bottom:unset}.ysink_emote_modal .ysink_emote_row>*{flex:1;margin-right:1rem}.ysink_emote_modal .ysink_emote_row>:last-child{flex:unset;margin-right:unset}");e.findByProps("uploadEmoji"),e.findByProps("getGuildPermissions");const u=e.findByProps("getFlattenedGuilds").getFlattenedGuilds;i.React.useState,e.findByProps("openModal"),e.findByProps("ModalCloseButton"),e.findByDisplayName("Flex"),e.findByDisplayName("Header"),e.findByDisplayName("FormSection"),e.findByDisplayName("FormText"),e.findByDisplayName("TextInput"),e.findByProps("Sizes","Colors","Looks","DropdownSizes");const l=e.findByProps("MenuGroup","default");var c=({isEmote:s,emoteAlt:t,url:o,guilds:n})=>i.React.createElement(l.MenuItem,{id:"ysink_emoji_msgitem",label:s?`Clone Emote ${t}`:"Create Emote"},n.map(r=>i.React.createElement(l.MenuItem,{label:r.name,id:`ysink_emoji_server_${r.id}`,action:()=>{let d=target?.alt?.substring(1,target.alt.length-1);s?(uploadEmoji(r.id,o,d),showToast({title:`cloned emote ${d}`,duration:3e3})):showCreateModal(r.id,o)}})));const y=e.findByProps("MenuGroup","default");var f=()=>{const s=e.find(t=>t?.default?.displayName=="MessageContextMenu");return a.after("default",s,(t,o)=>{let n=t[0].target,r=!!n?.classList?.contains("emoji");if(!(!n||!o?.props?.children||!r&&n?.nodeName!="IMG"||n.alt.length<=2))return o.props.children.splice(3,0,i.React.createElement(y.MenuSeparator,null),i.React.createElement(c,{isEmote:r,emoteAlt:n.alt,url:n.sourceUrl,guilds:u()})),o})};e.findByProps("MenuGroup","default");var p=()=>{const s=e.find(t=>t?.default?.displayName=="EmojiPickerListRow");return a.after("default",s,(t,o)=>{if(console.log(o),!Array.isArray(res?.props?.children))return o})},_=s=>{let t=[];return{onLoad:()=>t.push(m(),f(),p()),onUnload:()=>t.forEach(o=>o())}};return _})(cumcord.modules.webpack,cumcord.patcher,cumcord.ui.toasts,cumcord.ui.components,cumcord.modules.common);
