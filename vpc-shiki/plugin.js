(function(ye,an,Re,ze,z,Ae){"use strict";var pt=Object.defineProperty,dt=(l,p,k)=>p in l?pt(l,p,{enumerable:!0,configurable:!0,writable:!0,value:k}):l[p]=k,Ve=(l,p,k)=>(dt(l,typeof p!="symbol"?p+"":p,k),k);const Je=require("../color2Rgba.min.js");console.log(Je);const Ee=ye.findByProps("initHighlighting");class ft extends z.React.PureComponent{constructor(){super(...arguments);Ve(this,"ref",z.React.createRef()),Ve(this,"state",{copyCooldown:!1,vscodeCooldown:!1,tokens:null})}onCopyBtnClick(){this.state.copyCooldown||(this.setState({copyCooldown:!0}),setTimeout(()=>{this.setState({copyCooldown:!1})},1e3),Re.copyText(this.props.content))}componentDidMount(){this.lazilyHighlight()}componentDidUpdate(p){(p.content!==this.props.content||p.lang!==this.props.lang)&&this.lazilyHighlight()}lazilyHighlight(){const{content:p,lang:k,getHighlighter:t}=this.props;!k||this.shouldUseHLJS()||(this.observer=new IntersectionObserver(N=>{for(const C of N)if(C.isIntersecting){try{const y=t();this.setState({tokens:y.codeToThemedTokens(p,k)})}catch(y){}this.observer.disconnect()}}),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer?.disconnect()}render(){const{lang:p,content:k,getHighlighter:t,getLang:N,isPreview:C,useDevIcon:y,bgOpacity:I}=this.props,j=Ee?.getLanguage?.(p),r=N(p);let f=r?.name;const w=this.shouldUseHLJS(),S=t(),o=w?null:S?.getTheme(),x=o?.fg||"var(--text-normal)",m=o?.colors?.["statusBar.background"]||(w?"#7289da":"#007BC8"),h=o?.colors?.["statusBar.foreground"]||"#FFF",u=o?.colors?.["editor.background"]||"var(--background-secondary)";let d;if(w){f=j?.name;try{const{value:e}=Ee.highlight(p,k,!0);d=e.split(`
`).map(n=>z.React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}))}catch{d=k.split(`
`).map(e=>z.React.createElement("span",null,e))}}else{let e=this.state.tokens;e||(e=k.split(`
`).map(n=>[{color:x,content:n}])),d=e.map(n=>n.length===0?z.React.createElement("span",null,`
`):n.map(({content:s,color:b,fontStyle:L})=>z.React.createElement("span",{style:{color:b,fontStyle:L&1&&"italic",fontWeight:L&2&&"bold",textDecoration:L&4&&"underline"}},s)))}const i=d.map((e,n)=>z.React.createElement("tr",null,z.React.createElement("td",{style:{color:x}},n+1),z.React.createElement("td",null,e)));let c="vpc-shiki";return f||(c+=" vpc-shiki-plain"),C&&(c+=" vpc-shiki-preview"),z.React.createElement("pre",{ref:this.ref,className:c,style:{backgroundColor:w?u:`rgba(${Je(u).slice(0,3).concat(I/100).join(", ")})`,color:x}},z.React.createElement("code",null,f&&z.React.createElement("div",{className:"vpc-shiki-lang"},y!=="false"&&r?.devicon&&z.React.createElement("i",{className:`devicon-${r.devicon}${y==="colored"?" colored":""}`}),f),z.React.createElement("table",{className:"vpc-shiki-table"},i),z.React.createElement("div",{className:"vpc-shiki-btns"},z.React.createElement("button",{className:"vpc-shiki-btn",onClick:this.onCopyBtnClick.bind(this),style:{backgroundColor:m,color:h,cursor:this.state.copyCooldown?"default":null}},this.state.copyCooldown?ze.Messages.ACCOUNT_USERNAME_COPY_SUCCESS_1:ze.Messages.COPY)),this.props.children))}shouldUseHLJS(){const{lang:p,getLang:k,tryHLJS:t}=this.props,N=Ee?.getLanguage?.(p),y=k(p)?.name;switch(t){case"always":return!0;case"primary":return!!N||p==="";case"secondary":return!y&&!!N;case"never":return!1}return!1}}var gt=`const btn = document.getElementById("btn");
let count = 0;
function render() {
    btn.innerText = \`Count: \${count}\`;
}
btn.addEventListener("click", () => {
    // Count from 1 to 10.
    if (count < 10) {
        count += 1;
        render();
    }
});"`,mt=[{lang:"js",content:gt}],vt=Object.defineProperty,yt=(l,p,k)=>p in l?vt(l,p,{enumerable:!0,configurable:!0,writable:!0,value:k}):l[p]=k,Ke=(l,p,k)=>(yt(l,typeof p!="symbol"?p+"":p,k),k);const{SingleSelect:_t}=ye.findByDisplayName("Select",!1),bt=ye.findByDisplayName("TextInput");ye.findByDisplayName("SwitchItem");const kt=ye.findByDisplayName("Slider"),Lt=ye.findByDisplayName("Spinner"),Ye=ye.findByDisplayName("RadioGroup"),Xe="var(--text-danger)",wt=["Invalid URL.","The theme must be a json file with the vscode color theme schema.","The theme must be accessed with HTTPS."],Ct=250,ve=(l,p)=>Ae.persist.ghost[l]??p,je=(l,p)=>Ae.persist.store[l]=p;class St extends z.React.PureComponent{constructor(){super(...arguments);Ke(this,"state",{themeLoadingCauses:[],isCustomThemeValid:!0,customThemeIssue:null,lastEdited:Date.now()}),Ke(this,"debounces",{})}humanizeTheme(p){return p.split(/[^a-zA-Z0-9]/).map(k=>k[0].toUpperCase()+k.slice(1)).join(" ")}getCustomThemeIssue(p){if(!p)return 0;try{const k=new URL(p);if(!k.pathname.endsWith(".json"))return 2;if(k.protocol!=="https:")return 3}catch(k){return 1}return 0}padPromise(p){return Promise.all([p,Re.sleep(Ct)])}addLoadingCause(p){const{themeLoadingCauses:k}=this.state;return k.indexOf(p)===-1?(this.setState({themeLoadingCauses:[...k,p]}),!0):!1}removeLoadingCause(p){const{themeLoadingCauses:k}=this.state,t=k.indexOf(p);return t>=0?(this.setState({themeLoadingCauses:k.slice(0,t).concat(...k.slice(t+1))}),!0):!1}debounce(p,k,t){this.debounces[p]||(this.debounces[p]=_.debounce(N=>N(),t)),this.debounces[p](k)}render(){const{shiki:p,loadHighlighter:k,getHighlighter:t,getLang:N,refreshCodeblocks:C}=this.props;if(!this.state.themeLoadingCauses.length&&!t()){const j=Date.now();this.addLoadingCause(j),k().then(()=>{this.removeLoadingCause(j)})}const y=mt.map(j=>z.React.createElement(ft,{lang:j.lang,content:j.content,getHighlighter:t,getLang:N,isPreview:!0,tryHLJS:ve("try-hljs","never"),useDevIcon:ve("use-devicon","false"),bgOpacity:ve("bg-opacity",100)},this.state.themeLoadingCauses.length?z.React.createElement("div",{class:"vpc-shiki-spinner-container"},z.React.createElement(Lt,{type:"spinningCircle"})):null));let I="Custom Theme";return this.state.customThemeIssue&&(I=z.React.createElement("span",{style:{color:Xe}},I,z.React.createElement("span",{style:{fontSize:"12px",fontWeight:"500",fontStyle:"italic",textTransform:"none"}},z.React.createElement("span",{style:{padding:"0 4px"}},"-"),this.state.customThemeIssue))),z.React.createElement("div",null,y,z.React.createElement(_t,{onChange:({value:j})=>{je("theme",j);const r=Date.now();this.addLoadingCause(r),this.padPromise(k()).then(()=>{this.removeLoadingCause(r),C()})},options:p.BUNDLED_THEMES.map(j=>({label:this.humanizeTheme(j),value:j})),value:ve("theme",p.BUNDLED_THEMES[0]),isDisabled:!!ve("custom-theme")},"Theme"),z.React.createElement(bt,{style:this.state.isCustomThemeValid?{}:{borderColor:Xe},onChange:j=>{const r=this.getCustomThemeIssue(j);if(r)this.setState({lastEdited:Date.now(),isCustomThemeValid:!1,customThemeIssue:wt[r-1]});else{je("custom-theme",j);const f=Date.now();this.addLoadingCause(f),this.padPromise(k()).then(()=>{this.removeLoadingCause(f),C()}),this.setState({lastEdited:Date.now(),isCustomThemeValid:!0,customThemeIssue:null})}},placeholder:"https://raw.githubusercontent.com/millsp/material-candy/master/material-candy.json",value:ve("custom-theme")},I),z.React.createElement(Ye,{value:ve("try-hljs","never"),onChange:({value:j})=>{je("try-hljs",j),this.setState({lastEdited:Date.now()})},options:[{name:"Never",value:"never"},{name:"As Secondary",desc:"Use the default highlighter only with langauges missing in this plugin but supported by default.",value:"secondary"},{name:"As Primary",desc:"Use the default highlighter with supported langauges, with shiki as a fallback.",value:"primary"},{name:"Always",value:"always"}],note:z.React.createElement(z.React.Fragment,null,"Uses the more lightweight, ",z.React.createElement("b",null,"unthemed")," default highlighter.")},"Use Default Highlighter"),z.React.createElement(Ye,{value:ve("use-devicon","false"),onChange:({value:j})=>{je("use-devicon",j),this.setState({lastEdited:Date.now()})},options:[{name:"Disabled",value:"false"},{name:"Colorless",value:"colorless"},{name:"Colored",value:"colored"}]},"Icons"),z.React.createElement(kt,{initialValue:ve("bg-opacity",100),onValueChange:j=>{je("bg-opacity",j),this.addLoadingCause("bgOpacity")&&this.setState({lastEdited:Date.now()}),this.debounce("bgOpacity",()=>{this.removeLoadingCause("bgOpacity"),this.setState({lastEdited:Date.now()})},200)},minValue:0,maxValue:100,stickToMarkers:!1},"Background Opacity"))}}var Ze=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ke={exports:{}};(function(l,p){(function(k,t){l.exports=t()})(Ze,function(){return k={770:function(N,C,y){var I=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(C,"__esModule",{value:!0}),C.setDefaultDebugCall=C.createOnigScanner=C.createOnigString=C.loadWASM=C.OnigScanner=C.OnigString=void 0;const j=I(y(418));let r=null,f=!1;class w{constructor(u){const d=u.length,i=w._utf8ByteLength(u),c=i!==d,e=c?new Uint32Array(d+1):null;c&&(e[d]=i);const n=c?new Uint32Array(i+1):null;c&&(n[i]=d);const s=new Uint8Array(i);let b=0;for(let L=0;L<d;L++){const P=u.charCodeAt(L);let A=P,O=!1;if(P>=55296&&P<=56319&&L+1<d){const q=u.charCodeAt(L+1);q>=56320&&q<=57343&&(A=65536+(P-55296<<10)|q-56320,O=!0)}c&&(e[L]=b,O&&(e[L+1]=b),A<=127?n[b+0]=L:A<=2047?(n[b+0]=L,n[b+1]=L):A<=65535?(n[b+0]=L,n[b+1]=L,n[b+2]=L):(n[b+0]=L,n[b+1]=L,n[b+2]=L,n[b+3]=L)),A<=127?s[b++]=A:A<=2047?(s[b++]=192|(1984&A)>>>6,s[b++]=128|(63&A)>>>0):A<=65535?(s[b++]=224|(61440&A)>>>12,s[b++]=128|(4032&A)>>>6,s[b++]=128|(63&A)>>>0):(s[b++]=240|(1835008&A)>>>18,s[b++]=128|(258048&A)>>>12,s[b++]=128|(4032&A)>>>6,s[b++]=128|(63&A)>>>0),O&&L++}this.utf16Length=d,this.utf8Length=i,this.utf16Value=u,this.utf8Value=s,this.utf16OffsetToUtf8=e,this.utf8OffsetToUtf16=n}static _utf8ByteLength(u){let d=0;for(let i=0,c=u.length;i<c;i++){const e=u.charCodeAt(i);let n=e,s=!1;if(e>=55296&&e<=56319&&i+1<c){const b=u.charCodeAt(i+1);b>=56320&&b<=57343&&(n=65536+(e-55296<<10)|b-56320,s=!0)}d+=n<=127?1:n<=2047?2:n<=65535?3:4,s&&i++}return d}createString(u){const d=u._omalloc(this.utf8Length);return u.HEAPU8.set(this.utf8Value,d),d}}class S{constructor(u){if(this.id=++S.LAST_ID,!r)throw new Error("Must invoke loadWASM first.");this._onigBinding=r,this.content=u;const d=new w(u);this.utf16Length=d.utf16Length,this.utf8Length=d.utf8Length,this.utf16OffsetToUtf8=d.utf16OffsetToUtf8,this.utf8OffsetToUtf16=d.utf8OffsetToUtf16,this.utf8Length<1e4&&!S._sharedPtrInUse?(S._sharedPtr||(S._sharedPtr=r._omalloc(1e4)),S._sharedPtrInUse=!0,r.HEAPU8.set(d.utf8Value,S._sharedPtr),this.ptr=S._sharedPtr):this.ptr=d.createString(r)}convertUtf8OffsetToUtf16(u){return this.utf8OffsetToUtf16?u<0?0:u>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[u]:u}convertUtf16OffsetToUtf8(u){return this.utf16OffsetToUtf8?u<0?0:u>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[u]:u}dispose(){this.ptr===S._sharedPtr?S._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}C.OnigString=S,S.LAST_ID=0,S._sharedPtr=0,S._sharedPtrInUse=!1;class o{constructor(u){if(!r)throw new Error("Must invoke loadWASM first.");const d=[],i=[];for(let s=0,b=u.length;s<b;s++){const L=new w(u[s]);d[s]=L.createString(r),i[s]=L.utf8Length}const c=r._omalloc(4*u.length);r.HEAPU32.set(d,c/4);const e=r._omalloc(4*u.length);r.HEAPU32.set(i,e/4);const n=r._createOnigScanner(c,e,u.length);for(let s=0,b=u.length;s<b;s++)r._ofree(d[s]);r._ofree(e),r._ofree(c),n===0&&function(s){throw new Error(s.UTF8ToString(s._getLastOnigError()))}(r),this._onigBinding=r,this._ptr=n}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(u,d,i){let c=f,e=0;if(typeof i=="number"?(8&i&&(c=!0),e=i):typeof i=="boolean"&&(c=i),typeof u=="string"){u=new S(u);const n=this._findNextMatchSync(u,d,c,e);return u.dispose(),n}return this._findNextMatchSync(u,d,c,e)}_findNextMatchSync(u,d,i,c){const e=this._onigBinding;let n;if(n=i?e._findNextOnigScannerMatchDbg(this._ptr,u.id,u.ptr,u.utf8Length,u.convertUtf16OffsetToUtf8(d),c):e._findNextOnigScannerMatch(this._ptr,u.id,u.ptr,u.utf8Length,u.convertUtf16OffsetToUtf8(d),c),n===0)return null;const s=e.HEAPU32;let b=n/4;const L=s[b++],P=s[b++];let A=[];for(let O=0;O<P;O++){const q=u.convertUtf8OffsetToUtf16(s[b++]),Z=u.convertUtf8OffsetToUtf16(s[b++]);A[O]={start:q,end:Z,length:Z-q}}return{index:L,captureIndices:A}}}C.OnigScanner=o;let x=!1,m=null;C.loadWASM=function(h){if(x)return m;let u,d,i,c;if(x=!0,function(e){return typeof e.instantiator=="function"}(h))u=h.instantiator,d=h.print;else{let e;h instanceof ArrayBuffer||h instanceof Response?e=h:(e=h.data,d=h.print),u=e instanceof ArrayBuffer?function(n){return s=>WebAssembly.instantiate(n,s)}(e):e instanceof Response&&typeof WebAssembly.instantiateStreaming=="function"?function(n){return s=>WebAssembly.instantiateStreaming(n,s)}(e):function(n){return async s=>{const b=await n.arrayBuffer();return WebAssembly.instantiate(b,s)}}(e)}return m=new Promise((e,n)=>{i=e,c=n}),function(e,n,s,b){j.default({print:n,instantiateWasm:(L,P)=>{if(typeof performance=="undefined"){const A=()=>Date.now();L.env.emscripten_get_now=A,L.wasi_snapshot_preview1.emscripten_get_now=A}return e(L).then(A=>P(A.instance),b),{}}}).then(L=>{r=L,s()})}(u,d,i,c),m},C.createOnigString=function(h){return new S(h)},C.createOnigScanner=function(h){return new o(h)},C.setDefaultDebugCall=function(h){f=h}},418:N=>{var C=(typeof document!="undefined"&&document.currentScript&&document.currentScript.src,function(y){var I,j,r=(y=y||{})!==void 0?y:{};r.ready=new Promise(function(D,W){I=D,j=W});var f,w={};for(f in r)r.hasOwnProperty(f)&&(w[f]=r[f]);var S,o=!1,x="";function m(D){return r.locateFile?r.locateFile(D,x):x+D}S=function(D){var W;return typeof readbuffer=="function"?new Uint8Array(readbuffer(D)):(e(typeof(W=read(D,"binary"))=="object"),W)},typeof scriptArgs!="undefined"&&scriptArgs,typeof onig_print!="undefined"&&(typeof console=="undefined"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr!="undefined"?printErr:onig_print);var h=r.print||console.log.bind(console),u=r.printErr||console.warn.bind(console);for(f in w)w.hasOwnProperty(f)&&(r[f]=w[f]);w=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var d,i;r.wasmBinary&&(d=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&H("no native wasm support detected");var c=!1;function e(D,W){D||H("Assertion failed: "+W)}var n,s,b,L=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):void 0;function P(D,W,se){for(var me=W+se,ne=W;D[ne]&&!(ne>=me);)++ne;if(ne-W>16&&D.subarray&&L)return L.decode(D.subarray(W,ne));for(var ce="";W<ne;){var le=D[W++];if(128&le){var Ce=63&D[W++];if((224&le)!=192){var Se=63&D[W++];if((le=(240&le)==224?(15&le)<<12|Ce<<6|Se:(7&le)<<18|Ce<<12|Se<<6|63&D[W++])<65536)ce+=String.fromCharCode(le);else{var ht=le-65536;ce+=String.fromCharCode(55296|ht>>10,56320|1023&ht)}}else ce+=String.fromCharCode((31&le)<<6|Ce)}else ce+=String.fromCharCode(le)}return ce}function A(D,W){return D?P(s,D,W):""}function O(D,W){return D%W>0&&(D+=W-D%W),D}function q(D){n=D,r.HEAP8=new Int8Array(D),r.HEAP16=new Int16Array(D),r.HEAP32=b=new Int32Array(D),r.HEAPU8=s=new Uint8Array(D),r.HEAPU16=new Uint16Array(D),r.HEAPU32=new Uint32Array(D),r.HEAPF32=new Float32Array(D),r.HEAPF64=new Float64Array(D)}typeof TextDecoder!="undefined"&&new TextDecoder("utf-16le"),r.INITIAL_MEMORY;var Z,K=[],te=[],fe=[],g=[];function a(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)M(r.preRun.shift());Q(K)}function v(){Q(te)}function R(){Q(fe)}function T(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)F(r.postRun.shift());Q(g)}function M(D){K.unshift(D)}function F(D){g.unshift(D)}te.push({func:function(){lt()}});var B=0,U=null;function G(D){B++,r.monitorRunDependencies&&r.monitorRunDependencies(B)}function V(D){if(B--,r.monitorRunDependencies&&r.monitorRunDependencies(B),B==0&&U){var W=U;U=null,W()}}function H(D){r.onAbort&&r.onAbort(D),u(D+=""),c=!0,D="abort("+D+"). Build with -s ASSERTIONS=1 for more info.";var W=new WebAssembly.RuntimeError(D);throw j(W),W}function E(D,W){return String.prototype.startsWith?D.startsWith(W):D.indexOf(W)===0}r.preloadedImages={},r.preloadedAudios={};var $="data:application/octet-stream;base64,";function J(D){return E(D,$)}var Y,ee="onig.wasm";function ae(D){try{if(D==ee&&d)return new Uint8Array(d);if(S)return S(D);throw"both async and sync fetching of the wasm failed"}catch(W){H(W)}}function re(){return d||!o||typeof fetch!="function"?Promise.resolve().then(function(){return ae(ee)}):fetch(ee,{credentials:"same-origin"}).then(function(D){if(!D.ok)throw"failed to load wasm binary file at '"+ee+"'";return D.arrayBuffer()}).catch(function(){return ae(ee)})}function ie(){var D={env:ut,wasi_snapshot_preview1:ut};function W(ne,ce){var le=ne.exports;r.asm=le,q((i=r.asm.memory).buffer),Z=r.asm.__indirect_function_table,V()}function se(ne){W(ne.instance)}function me(ne){return re().then(function(ce){return WebAssembly.instantiate(ce,D)}).then(ne,function(ce){u("failed to asynchronously prepare wasm: "+ce),H(ce)})}if(G(),r.instantiateWasm)try{return r.instantiateWasm(D,W)}catch(ne){return u("Module.instantiateWasm callback failed with error: "+ne),!1}return(d||typeof WebAssembly.instantiateStreaming!="function"||J(ee)||typeof fetch!="function"?me(se):fetch(ee,{credentials:"same-origin"}).then(function(ne){return WebAssembly.instantiateStreaming(ne,D).then(se,function(ce){return u("wasm streaming compile failed: "+ce),u("falling back to ArrayBuffer instantiation"),me(se)})})).catch(j),{}}function Q(D){for(;D.length>0;){var W=D.shift();if(typeof W!="function"){var se=W.func;typeof se=="number"?W.arg===void 0?Z.get(se)():Z.get(se)(W.arg):se(W.arg===void 0?null:W.arg)}else W(r)}}function ue(D,W,se){s.copyWithin(D,W,W+se)}function X(){return s.length}function pe(D){try{return i.grow(D-n.byteLength+65535>>>16),q(i.buffer),1}catch(W){}}function oe(D){var W=X(),se=2147483648;if(D>se)return!1;for(var me=1;me<=4;me*=2){var ne=W*(1+.2/me);if(ne=Math.min(ne,D+100663296),pe(Math.min(se,O(Math.max(D,ne),65536))))return!0}return!1}J(ee)||(ee=m(ee)),Y=typeof dateNow!="undefined"?dateNow:function(){return performance.now()};var de={mappings:{},buffers:[null,[],[]],printChar:function(D,W){var se=de.buffers[D];W===0||W===10?((D===1?h:u)(P(se,0)),se.length=0):se.push(W)},varargs:void 0,get:function(){return de.varargs+=4,b[de.varargs-4>>2]},getStr:function(D){return A(D)},get64:function(D,W){return D}};function Te(D,W,se,me){for(var ne=0,ce=0;ce<se;ce++){for(var le=b[W+8*ce>>2],Ce=b[W+(8*ce+4)>>2],Se=0;Se<Ce;Se++)de.printChar(D,s[le+Se]);ne+=Ce}return b[me>>2]=ne,0}function we(D){}var be,ut={emscripten_get_now:Y,emscripten_memcpy_big:ue,emscripten_resize_heap:oe,fd_write:Te,setTempRet0:we},lt=(ie(),r.___wasm_call_ctors=function(){return(lt=r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)});function qe(D){function W(){be||(be=!0,r.calledRun=!0,c||(v(),R(),I(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),T()))}B>0||(a(),B>0||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),W()},1)):W()))}if(r.___errno_location=function(){return(r.___errno_location=r.asm.__errno_location).apply(null,arguments)},r._omalloc=function(){return(r._omalloc=r.asm.omalloc).apply(null,arguments)},r._ofree=function(){return(r._ofree=r.asm.ofree).apply(null,arguments)},r._getLastOnigError=function(){return(r._getLastOnigError=r.asm.getLastOnigError).apply(null,arguments)},r._createOnigScanner=function(){return(r._createOnigScanner=r.asm.createOnigScanner).apply(null,arguments)},r._freeOnigScanner=function(){return(r._freeOnigScanner=r.asm.freeOnigScanner).apply(null,arguments)},r._findNextOnigScannerMatch=function(){return(r._findNextOnigScannerMatch=r.asm.findNextOnigScannerMatch).apply(null,arguments)},r._findNextOnigScannerMatchDbg=function(){return(r._findNextOnigScannerMatchDbg=r.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},r.stackSave=function(){return(r.stackSave=r.asm.stackSave).apply(null,arguments)},r.stackRestore=function(){return(r.stackRestore=r.asm.stackRestore).apply(null,arguments)},r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.UTF8ToString=A,U=function D(){be||qe(),be||(U=D)},r.run=qe,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return qe(),y.ready});N.exports=C}},t={},function N(C){var y=t[C];if(y!==void 0)return y.exports;var I=t[C]={exports:{}};return k[C].call(I.exports,I,I.exports,N),I.exports}(770);var k,t})})(ke);var Ie={exports:{}};(function(l,p){(function(k,t){l.exports=t()})(Ze,function(){return function(k){var t={};function N(C){if(t[C])return t[C].exports;var y=t[C]={i:C,l:!1,exports:{}};return k[C].call(y.exports,y,y.exports,N),y.l=!0,y.exports}return N.m=k,N.c=t,N.d=function(C,y,I){N.o(C,y)||Object.defineProperty(C,y,{enumerable:!0,get:I})},N.r=function(C){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},N.t=function(C,y){if(1&y&&(C=N(C)),8&y||4&y&&typeof C=="object"&&C&&C.__esModule)return C;var I=Object.create(null);if(N.r(I),Object.defineProperty(I,"default",{enumerable:!0,value:C}),2&y&&typeof C!="string")for(var j in C)N.d(I,j,function(r){return C[r]}.bind(null,j));return I},N.n=function(C){var y=C&&C.__esModule?function(){return C.default}:function(){return C};return N.d(y,"a",y),y},N.o=function(C,y){return Object.prototype.hasOwnProperty.call(C,y)},N.p="",N(N.s=3)}([function(k,t,N){Object.defineProperty(t,"__esModule",{value:!0});var C=N(1),y=N(5),I=N(6),j=N(2),r=typeof performance=="undefined"?function(){return Date.now()}:function(){return performance.now()};t.createGrammar=function(g,a,v,R,T,M){return new e(g,a,v,R,T,M)};var f=function(g){this.scopeName=g};t.FullScopeDependency=f;var w=function(){function g(a,v){this.scopeName=a,this.include=v}return g.prototype.toKey=function(){return this.scopeName+"#"+this.include},g}();t.PartialScopeDependency=w;var S=function(){function g(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return g.prototype.add=function(a){a instanceof f?this._seenFull.has(a.scopeName)||(this._seenFull.add(a.scopeName),this.full.push(a)):this._seenPartial.has(a.toKey())||(this._seenPartial.add(a.toKey()),this.partial.push(a))},g}();function o(g,a,v,R,T){for(var M=0,F=R;M<F.length;M++){var B=F[M];if(!g.visitedRule.has(B)){g.visitedRule.add(B);var U=B.repository?C.mergeObjects({},T,B.repository):T;Array.isArray(B.patterns)&&o(g,a,v,B.patterns,U);var G=B.include;if(G)if(G==="$base"||G===a.scopeName)m(g,a,a);else if(G==="$self"||G===v.scopeName)m(g,a,v);else if(G.charAt(0)==="#")x(g,a,v,G.substring(1),U);else{var V=G.indexOf("#");if(V>=0){var H=G.substring(0,V),E=G.substring(V+1);H===a.scopeName?x(g,a,a,E,U):H===v.scopeName?x(g,a,v,E,U):g.add(new w(H,G.substring(V+1)))}else g.add(new f(G))}}}}function x(g,a,v,R,T){T===void 0&&(T=v.repository),T&&T[R]&&o(g,a,v,[T[R]],T)}function m(g,a,v){if(v.patterns&&Array.isArray(v.patterns)&&o(g,a,v,v.patterns,v.repository),v.injections){var R=[];for(var T in v.injections)R.push(v.injections[T]);o(g,a,v,R,v.repository)}}function h(g,a){if(!g)return!1;if(g===a)return!0;var v=a.length;return g.length>v&&g.substr(0,v)===a&&g[v]==="."}function u(g,a){if(a.length<g.length)return!1;var v=0;return g.every(function(R){for(var T=v;T<a.length;T++)if(h(a[T],R))return v=T+1,!0;return!1})}function d(g,a,v,R,T){for(var M=I.createMatchers(a,u),F=y.RuleFactory.getCompiledRuleId(v,R,T.repository),B=0,U=M;B<U.length;B++){var G=U[B];g.push({matcher:G.matcher,ruleId:F,grammar:T,priority:G.priority})}}t.ScopeDependencyCollector=S,t.collectSpecificDependencies=x,t.collectDependencies=m;var i=function(g,a,v,R){this.scopeName=g,this.languageId=a,this.tokenType=v,this.themeData=R};t.ScopeMetadata=i;var c=function(){function g(a,v,R){if(this._initialLanguage=a,this._themeProvider=v,this._cache=new Map,this._defaultMetaData=new i("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),R)for(var T=Object.keys(R),M=0,F=T.length;M<F;M++){var B=T[M],U=R[B];typeof U=="number"&&U!==0?this._embeddedLanguages[B]=U:console.warn("Invalid embedded language found at scope "+B+": <<"+U+">>")}var G=Object.keys(this._embeddedLanguages).map(function(V){return g._escapeRegExpCharacters(V)});G.length===0?this._embeddedLanguagesRegex=null:(G.sort(),G.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+G.join(")|(")+"))($|\\.)",""))}return g.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new i("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},g.prototype.getDefaultMetadata=function(){return this._defaultMetaData},g._escapeRegExpCharacters=function(a){return a.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},g.prototype.getMetadataForScope=function(a){if(a===null)return g._NULL_SCOPE_METADATA;var v=this._cache.get(a);return v||(v=this._doGetMetadataForScope(a),this._cache.set(a,v),v)},g.prototype._doGetMetadataForScope=function(a){var v=this._scopeToLanguage(a),R=this._toStandardTokenType(a),T=this._themeProvider.themeMatch(a);return new i(a,v,R,T)},g.prototype._scopeToLanguage=function(a){if(!a||!this._embeddedLanguagesRegex)return 0;var v=a.match(this._embeddedLanguagesRegex);if(!v)return 0;var R=this._embeddedLanguages[v[1]]||0;return R||0},g.prototype._toStandardTokenType=function(a){var v=a.match(g.STANDARD_TOKEN_TYPE_REGEXP);if(!v)return 0;switch(v[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},g._NULL_SCOPE_METADATA=new i("",0,0,null),g.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,g}(),e=function(){function g(a,v,R,T,M,F){if(this._scopeMetadataProvider=new c(v,M,R),this._onigLib=F,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=M,this._grammar=s(a,null),this._injections=null,this._tokenTypeMatchers=[],T)for(var B=0,U=Object.keys(T);B<U.length;B++)for(var G=U[B],V=0,H=I.createMatchers(G,u);V<H.length;V++){var E=H[V];this._tokenTypeMatchers.push({matcher:E.matcher,type:T[G]})}}return g.prototype.dispose=function(){for(var a=0,v=this._ruleId2desc;a<v.length;a++){var R=v[a];R&&R.dispose()}},g.prototype.createOnigScanner=function(a){return this._onigLib.createOnigScanner(a)},g.prototype.createOnigString=function(a){return this._onigLib.createOnigString(a)},g.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},g.prototype.getMetadataForScope=function(a){return this._scopeMetadataProvider.getMetadataForScope(a)},g.prototype.getInjections=function(){var a=this;if(this._injections===null){this._injections=[];var v=this._grammar.injections;if(v)for(var R in v)d(this._injections,R,v[R],this,this._grammar);if(this._grammarRepository){var T=this._grammarRepository.injections(this._grammar.scopeName);T&&T.forEach(function(M){var F=a.getExternalGrammar(M);if(F){var B=F.injectionSelector;B&&d(a._injections,B,F,a,F)}})}this._injections.sort(function(M,F){return M.priority-F.priority})}return this._injections},g.prototype.registerRule=function(a){var v=++this._lastRuleId,R=a(v);return this._ruleId2desc[v]=R,R},g.prototype.getRule=function(a){return this._ruleId2desc[a]},g.prototype.getExternalGrammar=function(a,v){if(this._includedGrammars[a])return this._includedGrammars[a];if(this._grammarRepository){var R=this._grammarRepository.lookup(a);if(R)return this._includedGrammars[a]=s(R,v&&v.$base),this._includedGrammars[a]}return null},g.prototype.tokenizeLine=function(a,v){var R=this._tokenize(a,v,!1);return{tokens:R.lineTokens.getResult(R.ruleStack,R.lineLength),ruleStack:R.ruleStack}},g.prototype.tokenizeLine2=function(a,v){var R=this._tokenize(a,v,!0);return{tokens:R.lineTokens.getBinaryResult(R.ruleStack,R.lineLength),ruleStack:R.ruleStack}},g.prototype._tokenize=function(a,v,R){var T;if(this._rootId===-1&&(this._rootId=y.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),v&&v!==Z.NULL)T=!1,v.reset();else{T=!0;var M=this._scopeMetadataProvider.getDefaultMetadata(),F=M.themeData[0],B=O.set(0,M.languageId,M.tokenType,F.fontStyle,F.foreground,F.background),U=this.getRule(this._rootId).getName(null,null),G=this._scopeMetadataProvider.getMetadataForScope(U),V=q.mergeMetadata(B,null,G),H=new q(null,U===null?"unknown":U,V);v=new Z(null,this._rootId,-1,-1,!1,null,H,H)}a+=`
`;var E=this.createOnigString(a),$=E.content.length,J=new te(R,a,this._tokenTypeMatchers),Y=A(this,E,T,0,v,J,!0);return n(E),{lineLength:$,lineTokens:J,ruleStack:Y}},g}();function n(g){typeof g.dispose=="function"&&g.dispose()}function s(g,a){return(g=C.clone(g)).repository=g.repository||{},g.repository.$self={$vscodeTextmateLocation:g.$vscodeTextmateLocation,patterns:g.patterns,name:g.scopeName},g.repository.$base=a||g.repository.$self,g}function b(g,a,v,R,T,M,F){if(M.length!==0){for(var B=a.content,U=Math.min(M.length,F.length),G=[],V=F[0].end,H=0;H<U;H++){var E=M[H];if(E!==null){var $=F[H];if($.length!==0){if($.start>V)break;for(;G.length>0&&G[G.length-1].endPos<=$.start;)T.produceFromScopes(G[G.length-1].scopes,G[G.length-1].endPos),G.pop();if(G.length>0?T.produceFromScopes(G[G.length-1].scopes,$.start):T.produce(R,$.start),E.retokenizeCapturedWithRuleId){var J=E.getName(B,F),Y=R.contentNameScopesList.push(g,J),ee=E.getContentName(B,F),ae=Y.push(g,ee),re=R.push(E.retokenizeCapturedWithRuleId,$.start,-1,!1,null,Y,ae),ie=g.createOnigString(B.substring(0,$.end));A(g,ie,v&&$.start===0,$.start,re,T,!1),n(ie)}else{var Q=E.getName(B,F);if(Q!==null){var ue=(G.length>0?G[G.length-1].scopes:R.contentNameScopesList).push(g,Q);G.push(new K(ue,$.end))}}}}}for(;G.length>0;)T.produceFromScopes(G[G.length-1].scopes,G[G.length-1].endPos),G.pop()}}function L(g){for(var a=[],v=0,R=g.rules.length;v<R;v++)a.push("   - "+g.rules[v]+": "+g.debugRegExps[v]);return a.join(`
`)}function P(g,a,v,R,T,M){var F=function(H,E,$,J,Y,ee){var ae=Y.getRule(H),re=ae.compile(H,Y.endRule,$,J===ee),ie=0;j.DebugFlags.InDebugMode&&(ie=r());var Q=re.scanner.findNextMatchSync(E,J);if(j.DebugFlags.InDebugMode){var ue=r()-ie;ue>5&&console.warn("Rule "+ae.debugName+" ("+ae.id+") matching took "+ue+" against '"+E+"'"),Q&&console.log("matched rule id: "+re.rules[Q.index]+" from "+Q.captureIndices[0].start+" to "+Q.captureIndices[0].end)}return Q?{captureIndices:Q.captureIndices,matchedRuleId:re.rules[Q.index]}:null}(g,a,v,R,T,M),B=g.getInjections();if(B.length===0)return F;var U=function(H,E,$,J,Y,ee,ae){for(var re,ie=Number.MAX_VALUE,Q=null,ue=0,X=ee.contentNameScopesList.generateScopes(),pe=0,oe=H.length;pe<oe;pe++){var de=H[pe];if(de.matcher(X)){var Te=E.getRule(de.ruleId).compile(E,null,J,Y===ae),we=Te.scanner.findNextMatchSync($,Y);if(j.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(L(Te))),we){var be=we.captureIndices[0].start;if(!(be>=ie)&&(ie=be,Q=we.captureIndices,re=Te.rules[we.index],ue=de.priority,ie===Y))break}}}return Q?{priorityMatch:ue===-1,captureIndices:Q,matchedRuleId:re}:null}(B,g,a,v,R,T,M);if(!U)return F;if(!F)return U;var G=F.captureIndices[0].start,V=U.captureIndices[0].start;return V<G||U.priorityMatch&&V===G?U:F}function A(g,a,v,R,T,M,F){var B=a.content.length,U=!1,G=-1;if(F){var V=function(E,$,J,Y,ee,ae){for(var re=ee.beginRuleCapturedEOL?0:-1,ie=[],Q=ee;Q;Q=Q.pop()){var ue=Q.getRule(E);ue instanceof y.BeginWhileRule&&ie.push({rule:ue,stack:Q})}for(var X=ie.pop();X;X=ie.pop()){var pe=X.rule.compileWhile(E,X.stack.endRule,J,re===Y),oe=pe.scanner.findNextMatchSync($,Y);if(j.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(L(pe))),!oe){j.DebugFlags.InDebugMode&&console.log("  popping "+X.rule.debugName+" - "+X.rule.debugWhileRegExp),ee=X.stack.pop();break}if(pe.rules[oe.index]!==-2){ee=X.stack.pop();break}oe.captureIndices&&oe.captureIndices.length&&(ae.produce(X.stack,oe.captureIndices[0].start),b(E,$,J,X.stack,ae,X.rule.whileCaptures,oe.captureIndices),ae.produce(X.stack,oe.captureIndices[0].end),re=oe.captureIndices[0].end,oe.captureIndices[0].end>Y&&(Y=oe.captureIndices[0].end,J=!1))}return{stack:ee,linePos:Y,anchorPosition:re,isFirstLine:J}}(g,a,v,R,T,M);T=V.stack,R=V.linePos,v=V.isFirstLine,G=V.anchorPosition}for(;!U;)H();function H(){j.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+R+": |"+a.content.substr(R).replace(/\n$/,"\\n")+"|"));var E=P(g,a,v,R,T,G);if(!E)return j.DebugFlags.InDebugMode&&console.log("  no more matches."),M.produce(T,B),void(U=!0);var $=E.captureIndices,J=E.matchedRuleId,Y=!!($&&$.length>0)&&$[0].end>R;if(J===-1){var ee=T.getRule(g);j.DebugFlags.InDebugMode&&console.log("  popping "+ee.debugName+" - "+ee.debugEndRegExp),M.produce(T,$[0].start),T=T.setContentNameScopesList(T.nameScopesList),b(g,a,v,T,M,ee.endCaptures,$),M.produce(T,$[0].end);var ae=T;if(T=T.pop(),G=ae.getAnchorPos(),!Y&&ae.getEnterPos()===R)return j.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),T=ae,M.produce(T,B),void(U=!0)}else{var re=g.getRule(J);M.produce(T,$[0].start);var ie=T,Q=re.getName(a.content,$),ue=T.contentNameScopesList.push(g,Q);if(T=T.push(J,R,G,$[0].end===B,null,ue,ue),re instanceof y.BeginEndRule){var X=re;j.DebugFlags.InDebugMode&&console.log("  pushing "+X.debugName+" - "+X.debugBeginRegExp),b(g,a,v,T,M,X.beginCaptures,$),M.produce(T,$[0].end),G=$[0].end;var pe=X.getContentName(a.content,$),oe=ue.push(g,pe);if(T=T.setContentNameScopesList(oe),X.endHasBackReferences&&(T=T.setEndRule(X.getEndWithResolvedBackReferences(a.content,$))),!Y&&ie.hasSameRuleAs(T))return j.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),T=T.pop(),M.produce(T,B),void(U=!0)}else if(re instanceof y.BeginWhileRule){if(X=re,j.DebugFlags.InDebugMode&&console.log("  pushing "+X.debugName),b(g,a,v,T,M,X.beginCaptures,$),M.produce(T,$[0].end),G=$[0].end,pe=X.getContentName(a.content,$),oe=ue.push(g,pe),T=T.setContentNameScopesList(oe),X.whileHasBackReferences&&(T=T.setEndRule(X.getWhileWithResolvedBackReferences(a.content,$))),!Y&&ie.hasSameRuleAs(T))return j.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),T=T.pop(),M.produce(T,B),void(U=!0)}else{var de=re;if(j.DebugFlags.InDebugMode&&console.log("  matched "+de.debugName+" - "+de.debugMatchRegExp),b(g,a,v,T,M,de.captures,$),M.produce(T,$[0].end),T=T.pop(),!Y)return j.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),T=T.safePop(),M.produce(T,B),void(U=!0)}}$[0].end>R&&(R=$[0].end,v=!1)}return T}t.Grammar=e;var O=function(){function g(){}return g.toBinaryStr=function(a){for(var v=a.toString(2);v.length<32;)v="0"+v;return v},g.printMetadata=function(a){var v=g.getLanguageId(a),R=g.getTokenType(a),T=g.getFontStyle(a),M=g.getForeground(a),F=g.getBackground(a);console.log({languageId:v,tokenType:R,fontStyle:T,foreground:M,background:F})},g.getLanguageId=function(a){return(255&a)>>>0},g.getTokenType=function(a){return(1792&a)>>>8},g.getFontStyle=function(a){return(14336&a)>>>11},g.getForeground=function(a){return(8372224&a)>>>14},g.getBackground=function(a){return(4286578688&a)>>>23},g.set=function(a,v,R,T,M,F){var B=g.getLanguageId(a),U=g.getTokenType(a),G=g.getFontStyle(a),V=g.getForeground(a),H=g.getBackground(a);return v!==0&&(B=v),R!==0&&(U=R===8?0:R),T!==-1&&(G=T),M!==0&&(V=M),F!==0&&(H=F),(B<<0|U<<8|G<<11|V<<14|H<<23)>>>0},g}();t.StackElementMetadata=O;var q=function(){function g(a,v,R){this.parent=a,this.scope=v,this.metadata=R}return g._equals=function(a,v){for(;;){if(a===v||!a&&!v)return!0;if(!a||!v||a.scope!==v.scope||a.metadata!==v.metadata)return!1;a=a.parent,v=v.parent}},g.prototype.equals=function(a){return g._equals(this,a)},g._matchesScope=function(a,v,R){return v===a||a.substring(0,R.length)===R},g._matches=function(a,v){if(v===null)return!0;for(var R=v.length,T=0,M=v[T],F=M+".";a;){if(this._matchesScope(a.scope,M,F)){if(++T===R)return!0;F=(M=v[T])+"."}a=a.parent}return!1},g.mergeMetadata=function(a,v,R){if(R===null)return a;var T=-1,M=0,F=0;if(R.themeData!==null)for(var B=0,U=R.themeData.length;B<U;B++){var G=R.themeData[B];if(this._matches(v,G.parentScopes)){T=G.fontStyle,M=G.foreground,F=G.background;break}}return O.set(a,R.languageId,R.tokenType,T,M,F)},g._push=function(a,v,R){for(var T=0,M=R.length;T<M;T++){var F=R[T],B=v.getMetadataForScope(F),U=g.mergeMetadata(a.metadata,a,B);a=new g(a,F,U)}return a},g.prototype.push=function(a,v){return v===null?this:v.indexOf(" ")>=0?g._push(this,a,v.split(/ /g)):g._push(this,a,[v])},g._generateScopes=function(a){for(var v=[],R=0;a;)v[R++]=a.scope,a=a.parent;return v.reverse(),v},g.prototype.generateScopes=function(){return g._generateScopes(this)},g}();t.ScopeListElement=q;var Z=function(){function g(a,v,R,T,M,F,B,U){this.parent=a,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=v,this._enterPos=R,this._anchorPos=T,this.beginRuleCapturedEOL=M,this.endRule=F,this.nameScopesList=B,this.contentNameScopesList=U}return g._structuralEquals=function(a,v){for(;;){if(a===v||!a&&!v)return!0;if(!a||!v||a.depth!==v.depth||a.ruleId!==v.ruleId||a.endRule!==v.endRule)return!1;a=a.parent,v=v.parent}},g._equals=function(a,v){return a===v||!!this._structuralEquals(a,v)&&a.contentNameScopesList.equals(v.contentNameScopesList)},g.prototype.clone=function(){return this},g.prototype.equals=function(a){return a!==null&&g._equals(this,a)},g._reset=function(a){for(;a;)a._enterPos=-1,a._anchorPos=-1,a=a.parent},g.prototype.reset=function(){g._reset(this)},g.prototype.pop=function(){return this.parent},g.prototype.safePop=function(){return this.parent?this.parent:this},g.prototype.push=function(a,v,R,T,M,F,B){return new g(this,a,v,R,T,M,F,B)},g.prototype.getEnterPos=function(){return this._enterPos},g.prototype.getAnchorPos=function(){return this._anchorPos},g.prototype.getRule=function(a){return a.getRule(this.ruleId)},g.prototype._writeString=function(a,v){return this.parent&&(v=this.parent._writeString(a,v)),a[v++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",v},g.prototype.toString=function(){var a=[];return this._writeString(a,0),"["+a.join(",")+"]"},g.prototype.setContentNameScopesList=function(a){return this.contentNameScopesList===a?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,a)},g.prototype.setEndRule=function(a){return this.endRule===a?this:new g(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,a,this.nameScopesList,this.contentNameScopesList)},g.prototype.hasSameRuleAs=function(a){return this.ruleId===a.ruleId},g.NULL=new g(null,0,0,0,!1,null,null,null),g}();t.StackElement=Z;var K=function(g,a){this.scopes=g,this.endPos=a};t.LocalStackElement=K;var te=function(){function g(a,v,R){this._emitBinaryTokens=a,this._tokenTypeOverrides=R,j.DebugFlags.InDebugMode?this._lineText=v:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return g.prototype.produce=function(a,v){this.produceFromScopes(a.contentNameScopesList,v)},g.prototype.produceFromScopes=function(a,v){if(!(this._lastTokenEndIndex>=v)){if(this._emitBinaryTokens){for(var R=a.metadata,T=0,M=this._tokenTypeOverrides;T<M.length;T++){var F=M[T];F.matcher(a.generateScopes())&&(R=O.set(R,0,fe(F.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===R||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(R)),void(this._lastTokenEndIndex=v)}var B=a.generateScopes();if(j.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,v).replace(/\n$/,"\\n")+"|");for(var U=0;U<B.length;U++)console.log("      * "+B[U])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:v,scopes:B}),this._lastTokenEndIndex=v}},g.prototype.getResult=function(a,v){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===v-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(a,v),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},g.prototype.getBinaryResult=function(a,v){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===v-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(a,v),this._binaryTokens[this._binaryTokens.length-2]=0);for(var R=new Uint32Array(this._binaryTokens.length),T=0,M=this._binaryTokens.length;T<M;T++)R[T]=this._binaryTokens[T];return R},g}();function fe(g){switch(g){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(k,t,N){function C(j){return Array.isArray(j)?function(r){for(var f=[],w=0,S=r.length;w<S;w++)f[w]=C(r[w]);return f}(j):typeof j=="object"?function(r){var f={};for(var w in r)f[w]=C(r[w]);return f}(j):j}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(j){return C(j)},t.mergeObjects=function(j){for(var r=[],f=1;f<arguments.length;f++)r[f-1]=arguments[f];return r.forEach(function(w){for(var S in w)j[S]=w[S]}),j},t.basename=function j(r){var f=~r.lastIndexOf("/")||~r.lastIndexOf("\\");return f===0?r:~f==r.length-1?j(r.substring(0,r.length-1)):r.substr(1+~f)};var y=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,I=function(){function j(){}return j.hasCaptures=function(r){return r!==null&&y.test(r)},j.replaceCaptures=function(r,f,w){return r.replace(y,function(S,o,x,m){var h=w[parseInt(o||x,10)];if(!h)return S;for(var u=f.substring(h.start,h.end);u[0]===".";)u=u.substring(1);switch(m){case"downcase":return u.toLowerCase();case"upcase":return u.toUpperCase();default:return u}})},j}();t.RegexSource=I},function(k,t,N){(function(C){Object.defineProperty(t,"__esModule",{value:!0}),t.DebugFlags={InDebugMode:C!==void 0&&!!C.env.VSCODE_TEXTMATE_DEBUG}}).call(this,N(7))},function(k,t,N){var C=this&&this.__awaiter||function(S,o,x,m){return new(x||(x=Promise))(function(h,u){function d(e){try{c(m.next(e))}catch(n){u(n)}}function i(e){try{c(m.throw(e))}catch(n){u(n)}}function c(e){var n;e.done?h(e.value):(n=e.value,n instanceof x?n:new x(function(s){s(n)})).then(d,i)}c((m=m.apply(S,o||[])).next())})},y=this&&this.__generator||function(S,o){var x,m,h,u,d={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function i(c){return function(e){return function(n){if(x)throw new TypeError("Generator is already executing.");for(;d;)try{if(x=1,m&&(h=2&n[0]?m.return:n[0]?m.throw||((h=m.return)&&h.call(m),0):m.next)&&!(h=h.call(m,n[1])).done)return h;switch(m=0,h&&(n=[2&n[0],h.value]),n[0]){case 0:case 1:h=n;break;case 4:return d.label++,{value:n[1],done:!1};case 5:d.label++,m=n[1],n=[0];continue;case 7:n=d.ops.pop(),d.trys.pop();continue;default:if(h=d.trys,!((h=h.length>0&&h[h.length-1])||n[0]!==6&&n[0]!==2)){d=0;continue}if(n[0]===3&&(!h||n[1]>h[0]&&n[1]<h[3])){d.label=n[1];break}if(n[0]===6&&d.label<h[1]){d.label=h[1],h=n;break}if(h&&d.label<h[2]){d.label=h[2],d.ops.push(n);break}h[2]&&d.ops.pop(),d.trys.pop();continue}n=o.call(S,d)}catch(s){n=[6,s],m=0}finally{x=h=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([c,e])}}};Object.defineProperty(t,"__esModule",{value:!0});var I=N(4),j=N(8),r=N(11),f=N(0),w=function(){function S(o){this._options=o,this._syncRegistry=new I.SyncRegistry(r.Theme.createFromRawTheme(o.theme,o.colorMap),o.onigLib),this._ensureGrammarCache=new Map}return S.prototype.dispose=function(){this._syncRegistry.dispose()},S.prototype.setTheme=function(o,x){this._syncRegistry.setTheme(r.Theme.createFromRawTheme(o,x))},S.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},S.prototype.loadGrammarWithEmbeddedLanguages=function(o,x,m){return this.loadGrammarWithConfiguration(o,x,{embeddedLanguages:m})},S.prototype.loadGrammarWithConfiguration=function(o,x,m){return this._loadGrammar(o,x,m.embeddedLanguages,m.tokenTypes)},S.prototype.loadGrammar=function(o){return this._loadGrammar(o,0,null,null)},S.prototype._doLoadSingleGrammar=function(o){return C(this,void 0,void 0,function(){var x,m;return y(this,function(h){switch(h.label){case 0:return[4,this._options.loadGrammar(o)];case 1:return(x=h.sent())&&(m=typeof this._options.getInjections=="function"?this._options.getInjections(o):void 0,this._syncRegistry.addGrammar(x,m)),[2]}})})},S.prototype._loadSingleGrammar=function(o){return C(this,void 0,void 0,function(){return y(this,function(x){return this._ensureGrammarCache.has(o)||this._ensureGrammarCache.set(o,this._doLoadSingleGrammar(o)),[2,this._ensureGrammarCache.get(o)]})})},S.prototype._collectDependenciesForDep=function(o,x,m){var h=this._syncRegistry.lookup(m.scopeName);if(h){m instanceof f.FullScopeDependency?f.collectDependencies(x,this._syncRegistry.lookup(o),h):f.collectSpecificDependencies(x,this._syncRegistry.lookup(o),h,m.include);var u=this._syncRegistry.injections(m.scopeName);if(u)for(var d=0,i=u;d<i.length;d++){var c=i[d];x.add(new f.FullScopeDependency(c))}}else if(m.scopeName===o)throw new Error("No grammar provided for <"+o+">")},S.prototype._loadGrammar=function(o,x,m,h){return C(this,void 0,void 0,function(){var u,d,i,c,e,n,s,b,L,P,A,O,q=this;return y(this,function(Z){switch(Z.label){case 0:u=new Set,d=new Set,u.add(o),i=[new f.FullScopeDependency(o)],Z.label=1;case 1:return i.length>0?(c=i,i=[],[4,Promise.all(c.map(function(K){return q._loadSingleGrammar(K.scopeName)}))]):[3,3];case 2:for(Z.sent(),e=new f.ScopeDependencyCollector,n=0,s=c;n<s.length;n++)O=s[n],this._collectDependenciesForDep(o,e,O);for(b=0,L=e.full;b<L.length;b++)O=L[b],u.has(O.scopeName)||(u.add(O.scopeName),i.push(O));for(P=0,A=e.partial;P<A.length;P++)O=A[P],u.has(O.scopeName)||d.has(O.toKey())||(d.add(O.toKey()),i.push(O));return[3,1];case 3:return[2,this.grammarForScopeName(o,x,m,h)]}})})},S.prototype.addGrammar=function(o,x,m,h){return x===void 0&&(x=[]),m===void 0&&(m=0),h===void 0&&(h=null),C(this,void 0,void 0,function(){return y(this,function(u){switch(u.label){case 0:return this._syncRegistry.addGrammar(o,x),[4,this.grammarForScopeName(o.scopeName,m,h)];case 1:return[2,u.sent()]}})})},S.prototype.grammarForScopeName=function(o,x,m,h){return x===void 0&&(x=0),m===void 0&&(m=null),h===void 0&&(h=null),this._syncRegistry.grammarForScopeName(o,x,m,h)},S}();t.Registry=w,t.INITIAL=f.StackElement.NULL,t.parseRawGrammar=j.parseRawGrammar},function(k,t,N){var C=this&&this.__awaiter||function(r,f,w,S){return new(w||(w=Promise))(function(o,x){function m(d){try{u(S.next(d))}catch(i){x(i)}}function h(d){try{u(S.throw(d))}catch(i){x(i)}}function u(d){var i;d.done?o(d.value):(i=d.value,i instanceof w?i:new w(function(c){c(i)})).then(m,h)}u((S=S.apply(r,f||[])).next())})},y=this&&this.__generator||function(r,f){var w,S,o,x,m={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return x={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function h(u){return function(d){return function(i){if(w)throw new TypeError("Generator is already executing.");for(;m;)try{if(w=1,S&&(o=2&i[0]?S.return:i[0]?S.throw||((o=S.return)&&o.call(S),0):S.next)&&!(o=o.call(S,i[1])).done)return o;switch(S=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return m.label++,{value:i[1],done:!1};case 5:m.label++,S=i[1],i=[0];continue;case 7:i=m.ops.pop(),m.trys.pop();continue;default:if(o=m.trys,!((o=o.length>0&&o[o.length-1])||i[0]!==6&&i[0]!==2)){m=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){m.label=i[1];break}if(i[0]===6&&m.label<o[1]){m.label=o[1],o=i;break}if(o&&m.label<o[2]){m.label=o[2],m.ops.push(i);break}o[2]&&m.ops.pop(),m.trys.pop();continue}i=f.call(r,m)}catch(c){i=[6,c],S=0}finally{w=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([u,d])}}};Object.defineProperty(t,"__esModule",{value:!0});var I=N(0),j=function(){function r(f,w){this._theme=f,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=w}return r.prototype.dispose=function(){for(var f in this._grammars)this._grammars.hasOwnProperty(f)&&this._grammars[f].dispose()},r.prototype.setTheme=function(f){var w=this;this._theme=f,Object.keys(this._grammars).forEach(function(S){w._grammars[S].onDidChangeTheme()})},r.prototype.getColorMap=function(){return this._theme.getColorMap()},r.prototype.addGrammar=function(f,w){this._rawGrammars[f.scopeName]=f,w&&(this._injectionGrammars[f.scopeName]=w)},r.prototype.lookup=function(f){return this._rawGrammars[f]},r.prototype.injections=function(f){return this._injectionGrammars[f]},r.prototype.getDefaults=function(){return this._theme.getDefaults()},r.prototype.themeMatch=function(f){return this._theme.match(f)},r.prototype.grammarForScopeName=function(f,w,S,o){return C(this,void 0,void 0,function(){var x,m,h,u,d;return y(this,function(i){switch(i.label){case 0:return this._grammars[f]?[3,2]:(x=this._rawGrammars[f])?(m=this._grammars,h=f,u=I.createGrammar,d=[x,w,S,o,this],[4,this._onigLibPromise]):[2,null];case 1:m[h]=u.apply(void 0,d.concat([i.sent()])),i.label=2;case 2:return[2,this._grammars[f]]}})})},r}();t.SyncRegistry=j},function(k,t,N){var C,y=this&&this.__extends||(C=function(c,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var b in s)s.hasOwnProperty(b)&&(n[b]=s[b])})(c,e)},function(c,e){function n(){this.constructor=c}C(c,e),c.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var I=N(1),j=/\\(\d+)/,r=/\\(\d+)/g,f=function(){function c(e,n,s){this.debugRegExps=n,this.rules=s,this.scanner=e.createOnigScanner(n)}return c.prototype.dispose=function(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()},c}();t.CompiledRule=f;var w=function(){function c(e,n,s,b){this.$location=e,this.id=n,this._name=s||null,this._nameIsCapturing=I.RegexSource.hasCaptures(this._name),this._contentName=b||null,this._contentNameIsCapturing=I.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(c.prototype,"debugName",{get:function(){var e=this.$location?I.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+e},enumerable:!0,configurable:!0}),c.prototype.getName=function(e,n){return this._nameIsCapturing&&this._name!==null&&e!==null&&n!==null?I.RegexSource.replaceCaptures(this._name,e,n):this._name},c.prototype.getContentName=function(e,n){return this._contentNameIsCapturing&&this._contentName!==null?I.RegexSource.replaceCaptures(this._contentName,e,n):this._contentName},c}();t.Rule=w;var S=function(c){function e(n,s,b,L,P){var A=c.call(this,n,s,b,L)||this;return A.retokenizeCapturedWithRuleId=P,A}return y(e,c),e.prototype.dispose=function(){},e.prototype.collectPatternsRecursive=function(n,s,b){throw new Error("Not supported!")},e.prototype.compile=function(n,s,b,L){throw new Error("Not supported!")},e}(w);t.CaptureRule=S;var o=function(){function c(e,n,s){if(s===void 0&&(s=!0),s)if(e){for(var b=e.length,L=0,P=[],A=!1,O=0;O<b;O++)if(e.charAt(O)==="\\"&&O+1<b){var q=e.charAt(O+1);q==="z"?(P.push(e.substring(L,O)),P.push("$(?!\\n)(?<!\\n)"),L=O+2):q!=="A"&&q!=="G"||(A=!0),O++}this.hasAnchor=A,L===0?this.source=e:(P.push(e.substring(L,b)),this.source=P.join(""))}else this.hasAnchor=!1,this.source=e;else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,this.hasBackReferences=j.test(this.source)}return c.prototype.clone=function(){return new c(this.source,this.ruleId,!0)},c.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},c.prototype.resolveBackReferences=function(e,n){var s=n.map(function(b){return e.substring(b.start,b.end)});return r.lastIndex=0,this.source.replace(r,function(b,L){return(s[parseInt(L,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")})},c.prototype._buildAnchorCache=function(){var e,n,s,b,L=[],P=[],A=[],O=[];for(e=0,n=this.source.length;e<n;e++)s=this.source.charAt(e),L[e]=s,P[e]=s,A[e]=s,O[e]=s,s==="\\"&&e+1<n&&((b=this.source.charAt(e+1))==="A"?(L[e+1]="\uFFFF",P[e+1]="\uFFFF",A[e+1]="A",O[e+1]="A"):b==="G"?(L[e+1]="\uFFFF",P[e+1]="G",A[e+1]="\uFFFF",O[e+1]="G"):(L[e+1]=b,P[e+1]=b,A[e+1]=b,O[e+1]=b),e++);return{A0_G0:L.join(""),A0_G1:P.join(""),A1_G0:A.join(""),A1_G1:O.join("")}},c.prototype.resolveAnchors=function(e,n){return this.hasAnchor&&this._anchorCache?e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},c}();t.RegExpSource=o;var x=function(){function c(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return c.prototype.dispose=function(){this._disposeCaches()},c.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},c.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},c.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},c.prototype.length=function(){return this._items.length},c.prototype.setSource=function(e,n){this._items[e].source!==n&&(this._disposeCaches(),this._items[e].setSource(n))},c.prototype.compile=function(e,n,s){if(this._hasAnchors)return n?s?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,n,s)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,n,s)),this._anchorCache.A1_G0):s?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,n,s)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,n,s)),this._anchorCache.A0_G0);if(!this._cached){var b=this._items.map(function(L){return L.source});this._cached=new f(e,b,this._items.map(function(L){return L.ruleId}))}return this._cached},c.prototype._resolveAnchors=function(e,n,s){var b=this._items.map(function(L){return L.resolveAnchors(n,s)});return new f(e,b,this._items.map(function(L){return L.ruleId}))},c}();t.RegExpSourceList=x;var m=function(c){function e(n,s,b,L,P){var A=c.call(this,n,s,b,null)||this;return A._match=new o(L,A.id),A.captures=P,A._cachedCompiledPatterns=null,A}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(e.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),e.prototype.collectPatternsRecursive=function(n,s,b){s.push(this._match)},e.prototype.compile=function(n,s,b,L){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new x,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,b,L)},e}(w);t.MatchRule=m;var h=function(c){function e(n,s,b,L,P){var A=c.call(this,n,s,b,L)||this;return A.patterns=P.patterns,A.hasMissingPatterns=P.hasMissingPatterns,A._cachedCompiledPatterns=null,A}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},e.prototype.collectPatternsRecursive=function(n,s,b){var L,P;for(L=0,P=this.patterns.length;L<P;L++)n.getRule(this.patterns[L]).collectPatternsRecursive(n,s,!1)},e.prototype.compile=function(n,s,b,L){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new x,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,b,L)},e}(w);t.IncludeOnlyRule=h;var u=function(c){function e(n,s,b,L,P,A,O,q,Z,K){var te=c.call(this,n,s,b,L)||this;return te._begin=new o(P,te.id),te.beginCaptures=A,te._end=new o(O||"\uFFFF",-1),te.endHasBackReferences=te._end.hasBackReferences,te.endCaptures=q,te.applyEndPatternLast=Z||!1,te.patterns=K.patterns,te.hasMissingPatterns=K.hasMissingPatterns,te._cachedCompiledPatterns=null,te}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),e.prototype.getEndWithResolvedBackReferences=function(n,s){return this._end.resolveBackReferences(n,s)},e.prototype.collectPatternsRecursive=function(n,s,b){if(b){var L,P=void 0;for(P=0,L=this.patterns.length;P<L;P++)n.getRule(this.patterns[P]).collectPatternsRecursive(n,s,!1)}else s.push(this._begin)},e.prototype.compile=function(n,s,b,L){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new x,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,s):this._cachedCompiledPatterns.setSource(0,s)),this._cachedCompiledPatterns.compile(n,b,L)},e}(w);t.BeginEndRule=u;var d=function(c){function e(n,s,b,L,P,A,O,q,Z){var K=c.call(this,n,s,b,L)||this;return K._begin=new o(P,K.id),K.beginCaptures=A,K.whileCaptures=q,K._while=new o(O,-2),K.whileHasBackReferences=K._while.hasBackReferences,K.patterns=Z.patterns,K.hasMissingPatterns=Z.hasMissingPatterns,K._cachedCompiledPatterns=null,K._cachedCompiledWhilePatterns=null,K}return y(e,c),e.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(e.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),e.prototype.getWhileWithResolvedBackReferences=function(n,s){return this._while.resolveBackReferences(n,s)},e.prototype.collectPatternsRecursive=function(n,s,b){if(b){var L,P=void 0;for(P=0,L=this.patterns.length;P<L;P++)n.getRule(this.patterns[P]).collectPatternsRecursive(n,s,!1)}else s.push(this._begin)},e.prototype.compile=function(n,s,b,L){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new x,this.collectPatternsRecursive(n,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(n,b,L)},e.prototype.compileWhile=function(n,s,b,L){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new x,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,s||"\uFFFF"),this._cachedCompiledWhilePatterns.compile(n,b,L)},e}(w);t.BeginWhileRule=d;var i=function(){function c(){}return c.createCaptureRule=function(e,n,s,b,L){return e.registerRule(function(P){return new S(n,P,s,b,L)})},c.getCompiledRuleId=function(e,n,s){return e.id||n.registerRule(function(b){if(e.id=b,e.match)return new m(e.$vscodeTextmateLocation,e.id,e.name,e.match,c._compileCaptures(e.captures,n,s));if(e.begin===void 0){e.repository&&(s=I.mergeObjects({},s,e.repository));var L=e.patterns;return L===void 0&&e.include&&(L=[{include:e.include}]),new h(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,c._compilePatterns(L,n,s))}return e.while?new d(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,c._compileCaptures(e.beginCaptures||e.captures,n,s),e.while,c._compileCaptures(e.whileCaptures||e.captures,n,s),c._compilePatterns(e.patterns,n,s)):new u(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,c._compileCaptures(e.beginCaptures||e.captures,n,s),e.end,c._compileCaptures(e.endCaptures||e.captures,n,s),e.applyEndPatternLast,c._compilePatterns(e.patterns,n,s))}),e.id},c._compileCaptures=function(e,n,s){var b=[];if(e){var L=0;for(var P in e)P!=="$vscodeTextmateLocation"&&(O=parseInt(P,10))>L&&(L=O);for(var A=0;A<=L;A++)b[A]=null;for(var P in e)if(P!=="$vscodeTextmateLocation"){var O=parseInt(P,10),q=0;e[P].patterns&&(q=c.getCompiledRuleId(e[P],n,s)),b[O]=c.createCaptureRule(n,e[P].$vscodeTextmateLocation,e[P].name,e[P].contentName,q)}}return b},c._compilePatterns=function(e,n,s){var b=[];if(e)for(var L=0,P=e.length;L<P;L++){var A=e[L],O=-1;if(A.include)if(A.include.charAt(0)==="#"){var q=s[A.include.substr(1)];q&&(O=c.getCompiledRuleId(q,n,s))}else if(A.include==="$base"||A.include==="$self")O=c.getCompiledRuleId(s[A.include],n,s);else{var Z=null,K=null,te=A.include.indexOf("#");te>=0?(Z=A.include.substring(0,te),K=A.include.substring(te+1)):Z=A.include;var fe=n.getExternalGrammar(Z,s);if(fe)if(K){var g=fe.repository[K];g&&(O=c.getCompiledRuleId(g,n,fe.repository))}else O=c.getCompiledRuleId(fe.repository.$self,n,fe.repository)}else O=c.getCompiledRuleId(A,n,s);if(O!==-1){var a=n.getRule(O),v=!1;if((a instanceof h||a instanceof u||a instanceof d)&&a.hasMissingPatterns&&a.patterns.length===0&&(v=!0),v)continue;b.push(O)}}return{patterns:b,hasMissingPatterns:(e?e.length:0)!==b.length}},c}();t.RuleFactory=i},function(k,t,N){function C(y){return!!y&&!!y.match(/[\w\.:]+/)}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=function(y,I){for(var j,r,f,w=[],S=(f=(r=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(j=y),{next:function(){if(!f)return null;var d=f[0];return f=r.exec(j),d}}),o=S.next();o!==null;){var x=0;if(o.length===2&&o.charAt(1)===":"){switch(o.charAt(0)){case"R":x=1;break;case"L":x=-1;break;default:console.log("Unknown priority "+o+" in scope selector")}o=S.next()}var m=u();if(w.push({matcher:m,priority:x}),o!==",")break;o=S.next()}return w;function h(){if(o==="-"){o=S.next();var d=h();return function(e){return!!d&&!d(e)}}if(o==="("){o=S.next();var i=function(){for(var e=[],n=u();n&&(e.push(n),o==="|"||o===",");){do o=S.next();while(o==="|"||o===",");n=u()}return function(s){return e.some(function(b){return b(s)})}}();return o===")"&&(o=S.next()),i}if(C(o)){var c=[];do c.push(o),o=S.next();while(C(o));return function(e){return I(c,e)}}return null}function u(){for(var d=[],i=h();i;)d.push(i),i=h();return function(c){return d.every(function(e){return e(c)})}}}},function(k,t){var N,C,y=k.exports={};function I(){throw new Error("setTimeout has not been defined")}function j(){throw new Error("clearTimeout has not been defined")}function r(d){if(N===setTimeout)return setTimeout(d,0);if((N===I||!N)&&setTimeout)return N=setTimeout,setTimeout(d,0);try{return N(d,0)}catch(i){try{return N.call(null,d,0)}catch(c){return N.call(this,d,0)}}}(function(){try{N=typeof setTimeout=="function"?setTimeout:I}catch(d){N=I}try{C=typeof clearTimeout=="function"?clearTimeout:j}catch(d){C=j}})();var f,w=[],S=!1,o=-1;function x(){S&&f&&(S=!1,f.length?w=f.concat(w):o=-1,w.length&&m())}function m(){if(!S){var d=r(x);S=!0;for(var i=w.length;i;){for(f=w,w=[];++o<i;)f&&f[o].run();o=-1,i=w.length}f=null,S=!1,function(c){if(C===clearTimeout)return clearTimeout(c);if((C===j||!C)&&clearTimeout)return C=clearTimeout,clearTimeout(c);try{C(c)}catch(e){try{return C.call(null,c)}catch(n){return C.call(this,c)}}}(d)}}function h(d,i){this.fun=d,this.array=i}function u(){}y.nextTick=function(d){var i=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)i[c-1]=arguments[c];w.push(new h(d,i)),w.length!==1||S||r(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},y.title="browser",y.browser=!0,y.env={},y.argv=[],y.version="",y.versions={},y.on=u,y.addListener=u,y.once=u,y.off=u,y.removeListener=u,y.removeAllListeners=u,y.emit=u,y.prependListener=u,y.prependOnceListener=u,y.listeners=function(d){return[]},y.binding=function(d){throw new Error("process.binding is not supported")},y.cwd=function(){return"/"},y.chdir=function(d){throw new Error("process.chdir is not supported")},y.umask=function(){return 0}},function(k,t,N){Object.defineProperty(t,"__esModule",{value:!0});var C=N(9),y=N(2),I=N(10);t.parseRawGrammar=function(j,r){return r===void 0&&(r=null),r!==null&&/\.json$/.test(r)?function(f,w){return y.DebugFlags.InDebugMode?I.parse(f,w,!0):JSON.parse(f)}(j,r):function(f,w){return y.DebugFlags.InDebugMode?C.parseWithLocation(f,w,"$vscodeTextmateLocation"):C.parse(f)}(j,r)}},function(k,t,N){function C(y,I,j){var r=y.length,f=0,w=1,S=0;function o(E){if(j===null)f+=E;else for(;E>0;)y.charCodeAt(f)===10?(f++,w++,S=0):(f++,S++),E--}function x(E){j===null?f=E:o(E-f)}function m(){for(;f<r;){var E=y.charCodeAt(f);if(E!==32&&E!==9&&E!==13&&E!==10)break;o(1)}}function h(E){return y.substr(f,E.length)===E&&(o(E.length),!0)}function u(E){var $=y.indexOf(E,f);x($!==-1?$+E.length:r)}function d(E){var $=y.indexOf(E,f);if($!==-1){var J=y.substring(f,$);return x($+E.length),J}return J=y.substr(f),x(r),J}r>0&&y.charCodeAt(0)===65279&&(f=1);var i=0,c=null,e=[],n=[],s=null;function b(E,$){e.push(i),n.push(c),i=E,c=$}function L(){if(e.length===0)return P("illegal state stack");i=e.pop(),c=n.pop()}function P(E){throw new Error("Near offset "+f+": "+E+" ~~~"+y.substr(f,50)+"~~~")}var A,O,q,Z=function(){if(s===null)return P("missing <key>");var E={};j!==null&&(E[j]={filename:I,line:w,char:S}),c[s]=E,s=null,b(1,E)},K=function(){if(s===null)return P("missing <key>");var E=[];c[s]=E,s=null,b(2,E)},te=function(){var E={};j!==null&&(E[j]={filename:I,line:w,char:S}),c.push(E),b(1,E)},fe=function(){var E=[];c.push(E),b(2,E)};function g(){if(i!==1)return P("unexpected </dict>");L()}function a(){return i===1||i!==2?P("unexpected </array>"):void L()}function v(E){if(i===1){if(s===null)return P("missing <key>");c[s]=E,s=null}else i===2?c.push(E):c=E}function R(E){if(isNaN(E))return P("cannot parse float");if(i===1){if(s===null)return P("missing <key>");c[s]=E,s=null}else i===2?c.push(E):c=E}function T(E){if(isNaN(E))return P("cannot parse integer");if(i===1){if(s===null)return P("missing <key>");c[s]=E,s=null}else i===2?c.push(E):c=E}function M(E){if(i===1){if(s===null)return P("missing <key>");c[s]=E,s=null}else i===2?c.push(E):c=E}function F(E){if(i===1){if(s===null)return P("missing <key>");c[s]=E,s=null}else i===2?c.push(E):c=E}function B(E){if(i===1){if(s===null)return P("missing <key>");c[s]=E,s=null}else i===2?c.push(E):c=E}function U(E){if(E.isClosed)return"";var $=d("</");return u(">"),$.replace(/&#([0-9]+);/g,function(J,Y){return String.fromCodePoint(parseInt(Y,10))}).replace(/&#x([0-9a-f]+);/g,function(J,Y){return String.fromCodePoint(parseInt(Y,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(J){switch(J){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return J})}for(;f<r&&(m(),!(f>=r));){var G=y.charCodeAt(f);if(o(1),G!==60)return P("expected <");if(f>=r)return P("unexpected end of input");var V=y.charCodeAt(f);if(V!==63)if(V!==33){if(V===47){if(o(1),m(),h("plist")){u(">");continue}if(h("dict")){u(">"),g();continue}if(h("array")){u(">"),a();continue}return P("unexpected closed tag")}var H=(O=void 0,q=void 0,O=d(">"),q=!1,O.charCodeAt(O.length-1)===47&&(q=!0,O=O.substring(0,O.length-1)),{name:O.trim(),isClosed:q});switch(H.name){case"dict":i===1?Z():i===2?te():(c={},j!==null&&(c[j]={filename:I,line:w,char:S}),b(1,c)),H.isClosed&&g();continue;case"array":i===1?K():i===2?fe():b(2,c=[]),H.isClosed&&a();continue;case"key":A=U(H),i!==1?P("unexpected <key>"):s!==null?P("too many <key>"):s=A;continue;case"string":v(U(H));continue;case"real":R(parseFloat(U(H)));continue;case"integer":T(parseInt(U(H),10));continue;case"date":M(new Date(U(H)));continue;case"data":F(U(H));continue;case"true":U(H),B(!0);continue;case"false":U(H),B(!1);continue}if(!/^plist/.test(H.name))return P("unexpected opened tag "+H.name)}else{if(o(1),h("--")){u("-->");continue}u(">")}else o(1),u("?>")}return c}Object.defineProperty(t,"__esModule",{value:!0}),t.parseWithLocation=function(y,I,j){return C(y,I,j)},t.parse=function(y){return C(y,null,null)}},function(k,t,N){function C(r,f){throw new Error("Near offset "+r.pos+": "+f+" ~~~"+r.source.substr(r.pos,50)+"~~~")}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(r,f,w){var S=new y(r),o=new I,x=0,m=null,h=[],u=[];function d(){h.push(x),u.push(m)}function i(){x=h.pop(),m=u.pop()}function c(b){C(S,b)}for(;j(S,o);){if(x===0){if(m!==null&&c("too many constructs in root"),o.type===3){m={},w&&(m.$vscodeTextmateLocation=o.toLocation(f)),d(),x=1;continue}if(o.type===2){m=[],d(),x=4;continue}c("unexpected token in root")}if(x===2){if(o.type===5){i();continue}if(o.type===7){x=3;continue}c("expected , or }")}if(x===1||x===3){if(x===1&&o.type===5){i();continue}if(o.type===1){var e=o.value;if(j(S,o)&&o.type===6||c("expected colon"),j(S,o)||c("expected value"),x=2,o.type===1){m[e]=o.value;continue}if(o.type===8){m[e]=null;continue}if(o.type===9){m[e]=!0;continue}if(o.type===10){m[e]=!1;continue}if(o.type===11){m[e]=parseFloat(o.value);continue}if(o.type===2){var n=[];m[e]=n,d(),x=4,m=n;continue}if(o.type===3){var s={};w&&(s.$vscodeTextmateLocation=o.toLocation(f)),m[e]=s,d(),x=1,m=s;continue}}c("unexpected token in dict")}if(x===5){if(o.type===4){i();continue}if(o.type===7){x=6;continue}c("expected , or ]")}if(x===4||x===6){if(x===4&&o.type===4){i();continue}if(x=5,o.type===1){m.push(o.value);continue}if(o.type===8){m.push(null);continue}if(o.type===9){m.push(!0);continue}if(o.type===10){m.push(!1);continue}if(o.type===11){m.push(parseFloat(o.value));continue}if(o.type===2){n=[],m.push(n),d(),x=4,m=n;continue}if(o.type===3){s={},w&&(s.$vscodeTextmateLocation=o.toLocation(f)),m.push(s),d(),x=1,m=s;continue}c("unexpected token in array")}c("unknown state")}return u.length!==0&&c("unclosed constructs"),m};var y=function(r){this.source=r,this.pos=0,this.len=r.length,this.line=1,this.char=0},I=function(){function r(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return r.prototype.toLocation=function(f){return{filename:f,line:this.line,char:this.char}},r}();function j(r,f){f.value=null,f.type=0,f.offset=-1,f.len=-1,f.line=-1,f.char=-1;for(var w,S=r.source,o=r.pos,x=r.len,m=r.line,h=r.char;;){if(o>=x)return!1;if((w=S.charCodeAt(o))!==32&&w!==9&&w!==13){if(w!==10)break;o++,m++,h=0}else o++,h++}if(f.offset=o,f.line=m,f.char=h,w===34){for(f.type=1,o++,h++;;){if(o>=x)return!1;if(w=S.charCodeAt(o),o++,h++,w!==92){if(w===34)break}else o++,h++}f.value=S.substring(f.offset+1,o-1).replace(/\\u([0-9A-Fa-f]{4})/g,function(u,d){return String.fromCodePoint(parseInt(d,16))}).replace(/\\(.)/g,function(u,d){switch(d){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:C(r,"invalid escape sequence")}throw new Error("unreachable")})}else if(w===91)f.type=2,o++,h++;else if(w===123)f.type=3,o++,h++;else if(w===93)f.type=4,o++,h++;else if(w===125)f.type=5,o++,h++;else if(w===58)f.type=6,o++,h++;else if(w===44)f.type=7,o++,h++;else if(w===110){if(f.type=8,o++,h++,(w=S.charCodeAt(o))!==117||(o++,h++,(w=S.charCodeAt(o))!==108)||(o++,h++,(w=S.charCodeAt(o))!==108))return!1;o++,h++}else if(w===116){if(f.type=9,o++,h++,(w=S.charCodeAt(o))!==114||(o++,h++,(w=S.charCodeAt(o))!==117)||(o++,h++,(w=S.charCodeAt(o))!==101))return!1;o++,h++}else if(w===102){if(f.type=10,o++,h++,(w=S.charCodeAt(o))!==97||(o++,h++,(w=S.charCodeAt(o))!==108)||(o++,h++,(w=S.charCodeAt(o))!==115)||(o++,h++,(w=S.charCodeAt(o))!==101))return!1;o++,h++}else for(f.type=11;;){if(o>=x)return!1;if(!((w=S.charCodeAt(o))===46||w>=48&&w<=57||w===101||w===69||w===45||w===43))break;o++,h++}return f.len=o-f.offset,f.value===null&&(f.value=S.substr(f.offset,f.len)),r.pos=o,r.line=m,r.char=h,!0}},function(k,t,N){Object.defineProperty(t,"__esModule",{value:!0});var C=function(m,h,u,d,i,c){this.scope=m,this.parentScopes=h,this.index=u,this.fontStyle=d,this.foreground=i,this.background=c};function y(m){return!!/^#[0-9a-f]{6}$/i.test(m)||!!/^#[0-9a-f]{8}$/i.test(m)||!!/^#[0-9a-f]{3}$/i.test(m)||!!/^#[0-9a-f]{4}$/i.test(m)}function I(m){if(!m)return[];if(!m.settings||!Array.isArray(m.settings))return[];for(var h=m.settings,u=[],d=0,i=0,c=h.length;i<c;i++){var e=h[i];if(e.settings){var n=void 0;typeof e.scope=="string"?n=e.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):n=Array.isArray(e.scope)?e.scope:[""];var s=-1;if(typeof e.settings.fontStyle=="string"){s=0;for(var b=0,L=(O=e.settings.fontStyle.split(" ")).length;b<L;b++)switch(O[b]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4}}var P=null;typeof e.settings.foreground=="string"&&y(e.settings.foreground)&&(P=e.settings.foreground);var A=null;for(typeof e.settings.background=="string"&&y(e.settings.background)&&(A=e.settings.background),b=0,L=n.length;b<L;b++){var O,q=(O=n[b].trim().split(" "))[O.length-1],Z=null;O.length>1&&(Z=O.slice(0,O.length-1)).reverse(),u[d++]=new C(q,Z,i,s,P,A)}}}return u}function j(m,h){m.sort(function(A,O){var q=w(A.scope,O.scope);return q!==0||(q=S(A.parentScopes,O.parentScopes))!==0?q:A.index-O.index});for(var u=0,d="#000000",i="#ffffff";m.length>=1&&m[0].scope==="";){var c=m.shift();c.fontStyle!==-1&&(u=c.fontStyle),c.foreground!==null&&(d=c.foreground),c.background!==null&&(i=c.background)}for(var e=new r(h),n=new o(0,null,u,e.getId(d),e.getId(i)),s=new x(new o(0,null,-1,0,0),[]),b=0,L=m.length;b<L;b++){var P=m[b];s.insert(0,P.scope,P.parentScopes,P.fontStyle,e.getId(P.foreground),e.getId(P.background))}return new f(e,n,s)}t.ParsedThemeRule=C,t.parseTheme=I;var r=function(){function m(h){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(h)){this._isFrozen=!0;for(var u=0,d=h.length;u<d;u++)this._color2id[h[u]]=u,this._id2color[u]=h[u]}else this._isFrozen=!1}return m.prototype.getId=function(h){if(h===null)return 0;h=h.toUpperCase();var u=this._color2id[h];if(u)return u;if(this._isFrozen)throw new Error("Missing color in color map - "+h);return u=++this._lastColorId,this._color2id[h]=u,this._id2color[u]=h,u},m.prototype.getColorMap=function(){return this._id2color.slice(0)},m}();t.ColorMap=r;var f=function(){function m(h,u,d){this._colorMap=h,this._root=d,this._defaults=u,this._cache={}}return m.createFromRawTheme=function(h,u){return this.createFromParsedTheme(I(h),u)},m.createFromParsedTheme=function(h,u){return j(h,u)},m.prototype.getColorMap=function(){return this._colorMap.getColorMap()},m.prototype.getDefaults=function(){return this._defaults},m.prototype.match=function(h){return this._cache.hasOwnProperty(h)||(this._cache[h]=this._root.match(h)),this._cache[h]},m}();function w(m,h){return m<h?-1:m>h?1:0}function S(m,h){if(m===null&&h===null)return 0;if(!m)return-1;if(!h)return 1;var u=m.length,d=h.length;if(u===d){for(var i=0;i<u;i++){var c=w(m[i],h[i]);if(c!==0)return c}return 0}return u-d}t.Theme=f,t.strcmp=w,t.strArrCmp=S;var o=function(){function m(h,u,d,i,c){this.scopeDepth=h,this.parentScopes=u,this.fontStyle=d,this.foreground=i,this.background=c}return m.prototype.clone=function(){return new m(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},m.cloneArr=function(h){for(var u=[],d=0,i=h.length;d<i;d++)u[d]=h[d].clone();return u},m.prototype.acceptOverwrite=function(h,u,d,i){this.scopeDepth>h?console.log("how did this happen?"):this.scopeDepth=h,u!==-1&&(this.fontStyle=u),d!==0&&(this.foreground=d),i!==0&&(this.background=i)},m}();t.ThemeTrieElementRule=o;var x=function(){function m(h,u,d){u===void 0&&(u=[]),d===void 0&&(d={}),this._mainRule=h,this._rulesWithParentScopes=u,this._children=d}return m._sortBySpecificity=function(h){return h.length===1||h.sort(this._cmpBySpecificity),h},m._cmpBySpecificity=function(h,u){if(h.scopeDepth===u.scopeDepth){var d=h.parentScopes,i=u.parentScopes,c=d===null?0:d.length,e=i===null?0:i.length;if(c===e)for(var n=0;n<c;n++){var s=d[n].length,b=i[n].length;if(s!==b)return b-s}return e-c}return u.scopeDepth-h.scopeDepth},m.prototype.match=function(h){if(h==="")return m._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var u,d,i=h.indexOf(".");return i===-1?(u=h,d=""):(u=h.substring(0,i),d=h.substring(i+1)),this._children.hasOwnProperty(u)?this._children[u].match(d):m._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},m.prototype.insert=function(h,u,d,i,c,e){if(u!==""){var n,s,b,L=u.indexOf(".");L===-1?(n=u,s=""):(n=u.substring(0,L),s=u.substring(L+1)),this._children.hasOwnProperty(n)?b=this._children[n]:(b=new m(this._mainRule.clone(),o.cloneArr(this._rulesWithParentScopes)),this._children[n]=b),b.insert(h+1,s,d,i,c,e)}else this._doInsertHere(h,d,i,c,e)},m.prototype._doInsertHere=function(h,u,d,i,c){if(u!==null){for(var e=0,n=this._rulesWithParentScopes.length;e<n;e++){var s=this._rulesWithParentScopes[e];if(S(s.parentScopes,u)===0)return void s.acceptOverwrite(h,d,i,c)}d===-1&&(d=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),c===0&&(c=this._mainRule.background),this._rulesWithParentScopes.push(new o(h,u,d,i,c))}else this._mainRule.acceptOverwrite(h,d,i,c)},m}();t.ThemeTrieElement=x}])})})(Ie);const jt=["alternight","css-variables","dark-plus","dracula-soft","dracula","github-dark-dimmed","github-dark","github-light","light-plus","material-darker","material-default","material-lighter","material-ocean","material-palenight","min-dark","min-light","minimus","monokai","nord","one-dark-pro","poimandres","slack-dark","slack-ochin","solarized-dark","solarized-light","vitesse-dark","vitesse-light"],Pe=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"text.html.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["css","sass","scss","tsx"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample"},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample"},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json"},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"jupyter",scopeName:"source.jupyter",path:"jupyter.tmLanguage.json",embeddedLangs:["json"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","html","java","javascript","typescript","lua","python","julia","ruby","xml","yaml","cpp","haskell","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json"},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json"},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"],embeddedLangs:["ruby","python","applescript","html","markdown"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json"},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["json","markdown","pug","haml","vue-html","sass","scss","less","stylus","postcss","css","typescript","coffee","javascript"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:["\u6587\u8A00"]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"}];var _e;(function(l){l[l.NotSet=-1]="NotSet",l[l.None=0]="None",l[l.Italic=1]="Italic",l[l.Bold=2]="Bold",l[l.Underline=4]="Underline"})(_e||(_e={}));class he{static toBinaryStr(p){let k=p.toString(2);for(;k.length<32;)k="0"+k;return k}static printMetadata(p){let k=he.getLanguageId(p),t=he.getTokenType(p),N=he.getFontStyle(p),C=he.getForeground(p),y=he.getBackground(p);console.log({languageId:k,tokenType:t,fontStyle:N,foreground:C,background:y})}static getLanguageId(p){return(p&255)>>>0}static getTokenType(p){return(p&1792)>>>8}static getFontStyle(p){return(p&14336)>>>11}static getForeground(p){return(p&8372224)>>>14}static getBackground(p){return(p&4286578688)>>>23}static set(p,k,t,N,C,y){let I=he.getLanguageId(p),j=he.getTokenType(p),r=he.getFontStyle(p),f=he.getForeground(p),w=he.getBackground(p);return k!==0&&(I=k),t!==0&&(j=t===8?0:t),N!==_e.NotSet&&(r=N),C!==0&&(f=C),y!==0&&(w=y),(I<<0|j<<8|r<<11|f<<14|w<<23)>>>0}}function Nt(l){return l.endsWith("/")||l.endsWith("\\")?l.slice(0,-1):l}function Tt(l){return l.startsWith("./")?l.slice(2):l}function Pt(l){const p=l.split(/[\/\\]/g);return p[p.length-2]}function xt(...l){return l.map(Nt).map(Tt).join("/")}function Rt(l,p){p===void 0&&(p=!1);var k=l.length,t=0,N="",C=0,y=16,I=0,j=0,r=0,f=0,w=0;function S(i,c){for(var e=0,n=0;e<i||!c;){var s=l.charCodeAt(t);if(s>=48&&s<=57)n=n*16+s-48;else if(s>=65&&s<=70)n=n*16+s-65+10;else if(s>=97&&s<=102)n=n*16+s-97+10;else break;t++,e++}return e<i&&(n=-1),n}function o(i){t=i,N="",C=0,y=16,w=0}function x(){var i=t;if(l.charCodeAt(t)===48)t++;else for(t++;t<l.length&&Le(l.charCodeAt(t));)t++;if(t<l.length&&l.charCodeAt(t)===46)if(t++,t<l.length&&Le(l.charCodeAt(t)))for(t++;t<l.length&&Le(l.charCodeAt(t));)t++;else return w=3,l.substring(i,t);var c=t;if(t<l.length&&(l.charCodeAt(t)===69||l.charCodeAt(t)===101))if(t++,(t<l.length&&l.charCodeAt(t)===43||l.charCodeAt(t)===45)&&t++,t<l.length&&Le(l.charCodeAt(t))){for(t++;t<l.length&&Le(l.charCodeAt(t));)t++;c=t}else w=3;return l.substring(i,c)}function m(){for(var i="",c=t;;){if(t>=k){i+=l.substring(c,t),w=2;break}var e=l.charCodeAt(t);if(e===34){i+=l.substring(c,t),t++;break}if(e===92){if(i+=l.substring(c,t),t++,t>=k){w=2;break}var n=l.charCodeAt(t++);switch(n){case 34:i+='"';break;case 92:i+="\\";break;case 47:i+="/";break;case 98:i+="\b";break;case 102:i+="\f";break;case 110:i+=`
`;break;case 114:i+="\r";break;case 116:i+="	";break;case 117:var s=S(4,!0);s>=0?i+=String.fromCharCode(s):w=4;break;default:w=5}c=t;continue}if(e>=0&&e<=31)if(Ne(e)){i+=l.substring(c,t),w=2;break}else w=6;t++}return i}function h(){if(N="",w=0,C=t,j=I,f=r,t>=k)return C=k,y=17;var i=l.charCodeAt(t);if(Oe(i)){do t++,N+=String.fromCharCode(i),i=l.charCodeAt(t);while(Oe(i));return y=15}if(Ne(i))return t++,N+=String.fromCharCode(i),i===13&&l.charCodeAt(t)===10&&(t++,N+=`
`),I++,r=t,y=14;switch(i){case 123:return t++,y=1;case 125:return t++,y=2;case 91:return t++,y=3;case 93:return t++,y=4;case 58:return t++,y=6;case 44:return t++,y=5;case 34:return t++,N=m(),y=10;case 47:var c=t-1;if(l.charCodeAt(t+1)===47){for(t+=2;t<k&&!Ne(l.charCodeAt(t));)t++;return N=l.substring(c,t),y=12}if(l.charCodeAt(t+1)===42){t+=2;for(var e=k-1,n=!1;t<e;){var s=l.charCodeAt(t);if(s===42&&l.charCodeAt(t+1)===47){t+=2,n=!0;break}t++,Ne(s)&&(s===13&&l.charCodeAt(t)===10&&t++,I++,r=t)}return n||(t++,w=1),N=l.substring(c,t),y=13}return N+=String.fromCharCode(i),t++,y=16;case 45:if(N+=String.fromCharCode(i),t++,t===k||!Le(l.charCodeAt(t)))return y=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return N+=x(),y=11;default:for(;t<k&&u(i);)t++,i=l.charCodeAt(t);if(C!==t){switch(N=l.substring(C,t),N){case"true":return y=8;case"false":return y=9;case"null":return y=7}return y=16}return N+=String.fromCharCode(i),t++,y=16}}function u(i){if(Oe(i)||Ne(i))return!1;switch(i){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function d(){var i;do i=h();while(i>=12&&i<=15);return i}return{setPosition:o,getPosition:function(){return t},scan:p?d:h,getToken:function(){return y},getTokenValue:function(){return N},getTokenOffset:function(){return C},getTokenLength:function(){return t-C},getTokenStartLine:function(){return j},getTokenStartCharacter:function(){return C-f},getTokenError:function(){return w}}}function Oe(l){return l===32||l===9||l===11||l===12||l===160||l===5760||l>=8192&&l<=8203||l===8239||l===8287||l===12288||l===65279}function Ne(l){return l===10||l===13||l===8232||l===8233}function Le(l){return l>=48&&l<=57}var xe;(function(l){l.DEFAULT={allowTrailingComma:!1}})(xe||(xe={}));function At(l,p,k){p===void 0&&(p=[]),k===void 0&&(k=xe.DEFAULT);var t=null,N=[],C=[];function y(j){Array.isArray(N)?N.push(j):t!==null&&(N[t]=j)}var I={onObjectBegin:function(){var j={};y(j),C.push(N),N=j,t=null},onObjectProperty:function(j){t=j},onObjectEnd:function(){N=C.pop()},onArrayBegin:function(){var j=[];y(j),C.push(N),N=j,t=null},onArrayEnd:function(){N=C.pop()},onLiteralValue:y,onError:function(j,r,f){p.push({error:j,offset:r,length:f})}};return Et(l,I,k),N[0]}function Et(l,p,k){k===void 0&&(k=xe.DEFAULT);var t=Rt(l,!1);function N(L){return L?function(){return L(t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter())}:function(){return!0}}function C(L){return L?function(P){return L(P,t.getTokenOffset(),t.getTokenLength(),t.getTokenStartLine(),t.getTokenStartCharacter())}:function(){return!0}}var y=N(p.onObjectBegin),I=C(p.onObjectProperty),j=N(p.onObjectEnd),r=N(p.onArrayBegin),f=N(p.onArrayEnd),w=C(p.onLiteralValue),S=C(p.onSeparator),o=N(p.onComment),x=C(p.onError),m=k&&k.disallowComments,h=k&&k.allowTrailingComma;function u(){for(;;){var L=t.scan();switch(t.getTokenError()){case 4:d(14);break;case 5:d(15);break;case 3:d(13);break;case 1:m||d(11);break;case 2:d(12);break;case 6:d(16);break}switch(L){case 12:case 13:m?d(10):o();break;case 16:d(1);break;case 15:case 14:break;default:return L}}}function d(L,P,A){if(P===void 0&&(P=[]),A===void 0&&(A=[]),x(L),P.length+A.length>0)for(var O=t.getToken();O!==17;){if(P.indexOf(O)!==-1){u();break}else if(A.indexOf(O)!==-1)break;O=u()}}function i(L){var P=t.getTokenValue();return L?w(P):I(P),u(),!0}function c(){switch(t.getToken()){case 11:var L=t.getTokenValue(),P=Number(L);isNaN(P)&&(d(2),P=0),w(P);break;case 7:w(null);break;case 8:w(!0);break;case 9:w(!1);break;default:return!1}return u(),!0}function e(){return t.getToken()!==10?(d(3,[],[2,5]),!1):(i(!1),t.getToken()===6?(S(":"),u(),b()||d(4,[],[2,5])):d(5,[],[2,5]),!0)}function n(){y(),u();for(var L=!1;t.getToken()!==2&&t.getToken()!==17;){if(t.getToken()===5){if(L||d(4,[],[]),S(","),u(),t.getToken()===2&&h)break}else L&&d(6,[],[]);e()||d(4,[],[2,5]),L=!0}return j(),t.getToken()!==2?d(7,[2],[]):u(),!0}function s(){r(),u();for(var L=!1;t.getToken()!==4&&t.getToken()!==17;){if(t.getToken()===5){if(L||d(4,[],[]),S(","),u(),t.getToken()===4&&h)break}else L&&d(6,[],[]);b()||d(4,[],[4,5]),L=!0}return f(),t.getToken()!==4?d(8,[4],[]):u(),!0}function b(){switch(t.getToken()){case 3:return s();case 1:return n();case 10:return i(!0);default:return c()}}return u(),t.getToken()===17?k.allowEmptyContent?!0:(d(4,[],[]),!1):b()?(t.getToken()!==17&&d(9,[],[]),!0):(d(4,[],[]),!1)}var It=At;const De=typeof self!="undefined"&&typeof self.WorkerGlobalScope!="undefined"||typeof window!="undefined"&&typeof window.document!="undefined"&&typeof fetch!="undefined";let Me="",Ge="";function Ot(l){Me=l}function Qe(l){Ge=l}let Be=null;async function Dt(){if(!Be){let l;if(De)typeof Ge=="string"?l=ke.exports.loadWASM({data:await fetch(et("dist/onig.wasm")).then(p=>p.arrayBuffer())}):l=ke.exports.loadWASM(Ge);else{const k=require("path").join(require.resolve("vscode-oniguruma"),"../onig.wasm"),N=require("fs").readFileSync(k).buffer;l=ke.exports.loadWASM(N)}Be=l.then(()=>({createOnigScanner(p){return ke.exports.createOnigScanner(p)},createOnigString(p){return ke.exports.createOnigString(p)}}))}return Be}function et(l){if(De)return Me||console.warn("[Shiki] no CDN provider found, use `setCDN()` to specify the CDN for loading the resources before calling `getHighlighter()`"),`${Me}${l}`;{const p=require("path");return p.isAbsolute(l)?l:p.resolve(__dirname,"..",l)}}async function Mt(l){const p=et(l);return De?await fetch(p).then(k=>k.text()):await require("fs").promises.readFile(p,"utf-8")}async function tt(l){const p=[],k=It(await Mt(l),p,{allowTrailingComma:!0});if(p.length)throw p[0];return k}async function Ue(l){let p=await tt(l);const k=We(p);if(k.include){const t=await Ue(xt(Pt(l),k.include));t.settings&&(k.settings=t.settings.concat(k.settings)),t.bg&&!k.bg&&(k.bg=t.bg),t.colors&&(k.colors=Object.assign(Object.assign({},t.colors),k.colors)),delete k.include}return k}async function Gt(l){return await tt(l)}function Bt(l){l.settings||(l.settings=[]),!(l.settings[0]&&l.settings[0].settings&&!l.settings[0].scope)&&l.settings.unshift({settings:{foreground:l.fg,background:l.bg}})}function We(l){const p=l.type||"dark",k=Object.assign(Object.assign({name:l.name,type:p},l),Ut(l));return l.include&&(k.include=l.include),l.tokenColors&&(k.settings=l.tokenColors,delete k.tokenColors),Bt(k),k}const nt={light:"#333333",dark:"#bbbbbb"},rt={light:"#fffffe",dark:"#1e1e1e"};function Ut(l){var p,k,t,N,C,y;let I,j,r=l.settings?l.settings:l.tokenColors;const f=r?r.find(w=>!w.name&&!w.scope):void 0;return((p=f==null?void 0:f.settings)===null||p===void 0?void 0:p.foreground)&&(I=f.settings.foreground),((k=f==null?void 0:f.settings)===null||k===void 0?void 0:k.background)&&(j=f.settings.background),!I&&((N=(t=l)===null||t===void 0?void 0:t.colors)===null||N===void 0?void 0:N["editor.foreground"])&&(I=l.colors["editor.foreground"]),!j&&((y=(C=l)===null||C===void 0?void 0:C.colors)===null||y===void 0?void 0:y["editor.background"])&&(j=l.colors["editor.background"]),I||(I=l.type==="light"?nt.light:nt.dark),j||(j=l.type==="light"?rt.light:rt.dark),{fg:I,bg:j}}class Wt{constructor(p,k){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=p,this._onigLibName=k}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(p){return this.languageMap[p]}async loadGrammar(p){const k=this.scopeToLangMap[p];if(!k)return null;if(k.grammar)return k.grammar;const t=await Gt(Pe.includes(k)?`${this.languagesPath}${k.path}`:k.path);return k.grammar=t,t}addLanguage(p){this.languageMap[p.id]=p,p.aliases&&p.aliases.forEach(k=>{this.languageMap[k]=p}),this.scopeToLangMap[p.scopeName]=p}}function Ft(l,p,k,t,N){let C=k.split(/\r\n|\r|\n/),y=Ie.exports.INITIAL,I=[],j=[];for(let r=0,f=C.length;r<f;r++){let w=C[r];if(w===""){I=[],j.push([]);continue}let S,o,x;N.includeExplanation&&(S=t.tokenizeLine(w,y),o=S.tokens,x=0);let m=t.tokenizeLine2(w,y),h=m.tokens.length/2;for(let u=0;u<h;u++){let d=m.tokens[2*u],i=u+1<h?m.tokens[2*u+2]:w.length;if(d===i)continue;let c=m.tokens[2*u+1],e=he.getForeground(c),n=p[e],s=he.getFontStyle(c),b=[];if(N.includeExplanation){let L=0;for(;d+L<i;){let P=o[x],A=w.substring(P.startIndex,P.endIndex);L+=A.length,b.push({content:A,scopes:$t(l,P.scopes)}),x++}}I.push({content:w.substring(d,i),color:n,fontStyle:s,explanation:b})}j.push(I),I=[],y=m.ruleStack}return j}function $t(l,p){let k=[];for(let t=0,N=p.length;t<N;t++){let C=p.slice(0,t),y=p[t];k[t]={scopeName:y,themeMatches:qt(l,y,C)}}return k}function st(l,p){let k=l+".";return l===p||p.substring(0,k.length)===k}function Ht(l,p,k,t){if(!st(l,k))return!1;let N=p.length-1,C=t.length-1;for(;N>=0&&C>=0;)st(p[N],t[C])&&N--,C--;return N===-1}function qt(l,p,k){let t=[],N=0;for(let C=0,y=l.settings.length;C<y;C++){let I=l.settings[C],j;if(typeof I.scope=="string")j=I.scope.split(/,/).map(r=>r.trim());else if(Array.isArray(I.scope))j=I.scope;else continue;for(let r=0,f=j.length;r<f;r++){let S=j[r].split(/ /),o=S[S.length-1],x=S.slice(0,S.length-1);Ht(o,x,p,k)&&(t[N++]=I,r=f)}}return t}function at(l,p={}){const k=p.bg||"#fff";let t="";return t+=`<pre class="shiki" style="background-color: ${k}">`,p.langId&&(t+=`<div class="language-id">${p.langId}</div>`),t+="<code>",l.forEach(N=>{t+='<span class="line">',N.forEach(C=>{const y=[`color: ${C.color||p.fg}`];C.fontStyle&_e.Italic&&y.push("font-style: italic"),C.fontStyle&_e.Bold&&y.push("font-weight: bold"),C.fontStyle&_e.Underline&&y.push("text-decoration: underline"),t+=`<span style="${y.join("; ")}">${Vt(C.content)}</span>`}),t+=`</span>
`}),t=t.replace(/\n*$/,""),t+="</code></pre>",t}const zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Vt(l){return l.replace(/[&<>"']/g,p=>zt[p])}class Jt extends Ie.exports.Registry{constructor(p){super(p);this._resolver=p,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={}}getTheme(p){return typeof p=="string"?this._resolvedThemes[p]:p}async loadTheme(p){return typeof p=="string"?(this._resolvedThemes[p]||(this._resolvedThemes[p]=await Ue(`${this.themesPath}${p}.json`)),this._resolvedThemes[p]):(p=We(p),p.name&&(this._resolvedThemes[p.name]=p),p)}async loadThemes(p){return await Promise.all(p.map(k=>this.loadTheme(k)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(p){return this._resolvedGrammars[p]}async loadLanguage(p){const k=await this.loadGrammar(p.scopeName);this._resolvedGrammars[p.id]=k,p.aliases&&p.aliases.forEach(t=>{this._resolvedGrammars[t]=k})}async loadLanguages(p){for(const k of p)this._resolver.addLanguage(k);for(const k of p)await this.loadLanguage(k)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}}function it(l){return typeof l=="string"?Pe.find(p=>{var k;return p.id===l||((k=p.aliases)===null||k===void 0?void 0:k.includes(l))}):l}function Kt(l){var p;let k=Pe,t=l.themes||[];return((p=l.langs)===null||p===void 0?void 0:p.length)&&(k=l.langs.map(it)),l.theme&&t.unshift(l.theme),t.length||(t=["nord"]),{_languages:k,_themes:t}}async function Yt(l){var p,k;const{_languages:t,_themes:N}=Kt(l),C=new Wt(Dt(),"vscode-oniguruma"),y=new Jt(C);((p=l.paths)===null||p===void 0?void 0:p.themes)&&(y.themesPath=l.paths.themes),((k=l.paths)===null||k===void 0?void 0:k.languages)&&(C.languagesPath=l.paths.languages);const j=(await y.loadThemes(N))[0];let r;await y.loadLanguages(t);const f={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function w(n,s){n.bg=f[n.bg]||n.bg,n.fg=f[n.fg]||n.fg,s.forEach((b,L)=>{s[L]=f[b]||b})}function S(n){const s=n?y.getTheme(n):j;if(!s)throw Error(`No theme registration for ${n}`);(!r||r.name!==s.name)&&(y.setTheme(s),r=s);const b=y.getColorMap();return s.name==="css-variables"&&w(s,b),{_theme:s,_colorMap:b}}function o(n){const s=y.getGrammar(n);if(!s)throw Error(`No language registration for ${n}`);return{_grammar:s}}function x(n,s="text",b,L={includeExplanation:!0}){if(Xt(s))return[[{content:n}]];const{_grammar:P}=o(s),{_theme:A,_colorMap:O}=S(b);return Ft(A,O,n,P,L)}function m(n,s="text",b){let L;typeof s=="object"?L=s:L={lang:s,theme:b};const P=x(n,L.lang,L.theme,{includeExplanation:!1}),{_theme:A}=S(L.theme);return at(P,{fg:A.fg,bg:A.bg})}async function h(n){await y.loadTheme(n)}async function u(n){const s=it(n);C.addLanguage(s),await y.loadLanguage(s)}function d(){return y.getLoadedThemes()}function i(){return y.getLoadedLanguages()}function c(n){const{_theme:s}=S(n);return s.bg}function e(n){const{_theme:s}=S(n);return s.fg}return{codeToThemedTokens:x,codeToHtml:m,getTheme:n=>S(n)._theme,loadTheme:h,loadLanguage:u,getBackgroundColor:c,getForegroundColor:e,getLoadedThemes:d,getLoadedLanguages:i}}function Xt(l){return!l||["plaintext","txt","text"].includes(l)}function Zt(l){Qe(l)}var ge={BUNDLED_LANGUAGES:Pe,BUNDLED_THEMES:jt,FontStyle:_e,getHighlighter:Yt,loadTheme:Ue,renderToHtml:at,setCDN:Ot,setOnigasmWASM:Zt,setWasm:Qe,toShikiTheme:We},Qt=()=>cumcord.patcher.injectCSS('@import"https://cdn.jsdelivr.net/gh/devicons/devicon@v2.10.1/devicon.min.css";.vpc-shiki{border-radius:4px}.vpc-shiki code{display:block;overflow-x:auto;padding:.5em;position:relative;font-size:.875rem;line-height:1.125rem;text-indent:0;white-space:pre-wrap;background:transparent;border:none}.vpc-shiki [class^=devicon-],.vpc-shiki [class*=" devicon-"]{margin-right:8px;user-select:none}.vpc-shiki-plain code{padding-top:8px}.vpc-shiki-btns{font-size:1em;position:absolute;right:0;bottom:0;opacity:0}.vpc-shiki:not(.vpc-shiki-preview):hover .vpc-shiki-btns{opacity:1}.vpc-shiki-btn{border-radius:4px 4px 0 0;padding:4px 8px}.vpc-shiki-btn~.vpc-shiki-btn{margin-left:4px}.vpc-shiki-btn:last-child{border-radius:4px 0}.vpc-shiki-spinner-container{align-items:center;background-color:#0009;display:flex;position:absolute;justify-content:center;top:0;right:0;bottom:0;left:0}.vpc-shiki-preview{margin-bottom:2em}.vpc-shiki-lang{padding:0 5px;margin-bottom:6px;font-weight:bold;text-transform:capitalize;display:flex;align-items:center}.vpc-shiki-table{border-collapse:collapse;width:100%}.vpc-shiki-table tr{height:19px;width:100%}.vpc-shiki td:first-child{border-right:1px solid transparent;padding-left:5px;padding-right:8px;user-select:none}.vpc-shiki td:last-child{padding-left:8px;word-break:break-word;width:100%}');const Fe=ge.BUNDLED_LANGUAGES,$e="https://unpkg.com/shiki@0.9.15/";ge.setCDN($e);let He,en;const ot=(l,p)=>Ae.persist.ghost[l]??p;async function tn(l){l||(l=ot("theme",ge.BUNDLED_THEMES[0]));const p=ot("custom-theme");if(p)try{const k=p.split("/").slice(0,-2).join("/")+"/";ge.setCDN(k);const t=p.split("/").slice(-2).join("/"),N=await ge.loadTheme(t);return ge.setCDN($e),He=await ge.getHighlighter({theme:N,langs:Fe})}catch(k){ge.setCDN($e)}return He=await ge.getHighlighter({theme:l,langs:Fe})}const nn=()=>He,rn=l=>Fe.find(p=>[...p.aliases||[],p.id].includes(l)),ct=()=>document.querySelectorAll('[id^="chat-messages-"]').forEach(l=>Re.getReactInstance(l)?.memoizedProps?.onMouseMove?.());var sn=()=>{let l=Qt();return{onUnload(){l(),en(),ct()},settings:z.React.createElement(St,{shiki:ge,loadHighlighter:tn,getHighlighter:nn,getLang:rn,refreshCodeblocks:ct})}};return sn})(cumcord.modules.webpack,cumcord.patcher,cumcord.utils,cumcord.modules.common.i18n,cumcord.modules.common,cumcord.pluginData);
