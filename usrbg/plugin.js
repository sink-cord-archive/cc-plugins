(function(o,i,s,d,p){"use strict";function m(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}}),r.default=e,Object.freeze(r)}var f=m(d);const[l,b,{premiumIconWrapper:g},{footer:O},{bodyInnerWrapper:N},{avatarPositionPremium:W,avatarWrapperNormal:D},{TextBadge:y}]=i.batchFind(({findByProps:e,findByDisplayName:r,find:n})=>{r("UserBanner",!1),n(a=>a.type?.displayName==="UserPopoutContainer"),e("premiumIconWrapper"),e("wumpusWrapper"),e("bodyInnerWrapper"),e("avatarPositionPremium"),e("TextBadge")});var P=e=>{const r=s.after("type",b,(a,{props:{user:t}})=>{e.has(t.id)&&(t.banner??="_")}),n=s.findAndPatch(()=>i.findByDisplayName("UserProfileModalHeader",!1),a=>s.after("default",a,([{user:t}])=>{e.has(t.id)&&(t.banner??="_")}));return()=>{r(),n()}},h=e=>s.after("default",l,([{user:r}],n)=>{if(!(p.persist.ghost.classic||r.banner!=="_"))return n.props.style.backgroundImage=`url(${e.get(r.id).img})`,n.props.children[0]=f.createElement(y,{color:"rgba(32, 34, 37, 0.8)",className:g,text:"USRBG"}),n});const v="https://raw.githubusercontent.com/Discord-Custom-Covers/usrbg/master/dist/usrbg.json",_=()=>fetch(v).then(e=>e.json()),j=e=>new Map(e.map(r=>[r.uid,r]));var B=()=>_().then(j);let u=!1,c=[];async function U(){const e=await B();u||(c=[h(e),P(e)])}function w(){u=!0,window._.forEachRight(c,e=>e())}return o.onLoad=U,o.onUnload=w,Object.defineProperty(o,"__esModule",{value:!0}),o})({},cumcord.modules.webpack,cumcord.patcher,cumcord.modules.common.React,cumcord.pluginData);
