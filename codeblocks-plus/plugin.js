(function(p,d,c,n,k,u,h,x){"use strict";function E(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var s=Object.create(null);return e&&Object.keys(e).forEach(function(t){if(t!=="default"){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(s,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}}),s.default=e,Object.freeze(s)}var a=T(p),i=E(n),S=({lines:e})=>a.createElement("div",{class:"ysink_code_linenumbers"},_.range(e).map(s=>a.createElement(a.Fragment,null,s,a.createElement("br",null))));const{useState:j,useEffect:C}=a,f=d.findByProps("thin").thin;var y=({codeText:e,lang:s})=>{const t=a.useRef(),r=b=>{if(u.getLanguage)return u.getLanguage(b);h.error("|| Codeblocks Plus || highlight.js was not found. Please ensure cumcord.modules.common.highlightjs isnt undefined...")};let[l,o]=j(0);return C(()=>{l>0&&(o(-1),setTimeout(()=>o(0),l)),r(s)&&u.highlightBlock(t.current)}),a.createElement("div",{className:"ysink_code_wrapper hljs"},a.createElement("div",{className:"ysink_code_row"},a.createElement("div",{className:"ysink_code_lang"},r(s)?.name),a.createElement("button",{className:"dark",disabled:l,onClick:()=>{l||(k.copyText(e),o(2e3))}},l?"Copied!":"Copy")),a.createElement("div",{class:"ysink_code_prewrap"},n.persist.ghost.nums??!0?a.createElement(S,{lines:e.split(`
`).length}):[],a.createElement("pre",{className:f},a.createElement("code",{ref:t,className:`hljs ${s} ${f}`},e))))};const N=d.findByPropsAll("LazyLibrary")[1],$=e=>new DOMParser().parseFromString(e,"text/html").children[0].textContent;var z=()=>c.after("LazyLibrary",N,(e,s)=>{const t=s?.props?.children?.props?.children;if(!t?.props)return;const r=t.props.dangerouslySetInnerHTML?.__html,l=t.props.children,o=_.last(t.props.className.split(" ")),b=l??$(r);return a.createElement(x.ErrorBoundary,null,a.createElement(y,{codeText:b,lang:o}))}),L=()=>c.injectCSS(".ysink_code_wrapper{padding:0 .5rem .5rem;border-radius:0;padding-bottom:calc(.5rem - 8px)}.ysink_code_wrapper .ysink_code_lang{display:inline}.ysink_code_wrapper pre{margin-top:0;overflow-x:auto;max-width:unset}.ysink_code_wrapper code{width:max-content;background:none;border:none;font-family:var(--font-code);padding:0!important;font-size:.875rem;line-height:1.125rem}.ysink_code_wrapper button{color:var(--text-normal);background:var(--background-secondary);font-size:.9rem;padding:.1rem .5rem;border-radius:.25rem}.ysink_code_wrapper .ysink_code_row{border-bottom:1px solid var(--text-muted);display:flex;padding:.25rem 0;margin-bottom:.25rem;font-size:.95rem;font-weight:500}.ysink_code_wrapper .ysink_code_row>:first-child{flex:1}.ysink_code_wrapper .ysink_code_linenumbers{margin-right:.5rem;padding-right:.5rem;border-right:1px solid var(--text-muted);height:100%;font-family:var(--font-code);font-size:.875rem;line-height:1.125rem;text-align:right;padding-top:.25rem;margin-top:-.25rem;margin-bottom:8px}.ysink_code_wrapper .ysink_code_prewrap{display:flex}.hljs{background:var(--background-secondary)}.ysink_code_head{margin-top:.5rem;margin-bottom:.25rem}.ysink_code_mbottom{margin-bottom:1rem}"),B=["a11y-dark","a11y-light","agate","an-old-hope","androidstudio","arduino-light","arta","ascetic","atom-one-dark","atom-one-dark-reasonable","atom-one-light","brown-paper","codepen-embed","color-brewer","dark","default","devibeans","docco","far","foundation","github","github-dark","github-dark-dimmed","gml","googlecode","gradient-dark","gradient-light","grayscale","hybrid","idea","ir-black","isbl-editor-dark","isbl-editor-light","kimbie-dark","kimbie-light","lightfair","lioshi","magula","mono-blue","monokai","monokai-sublime","night-owl","nnfx-dark","nnfx-light","nord","obsidian","paraiso-dark","paraiso-light","pojoaque","pojoaque","purebasic","qtcreator-dark","qtcreator-light","rainbow","routeros","school-book","shades-of-purple","srcery","stackoverflow-dark","stackoverflow-light","sunburst","tomorrow-night-blue","tomorrow-night-bright","vs","vs2015","xcode","xt256","base16/3024","base16/apathy","base16/apprentice","base16/ashes","base16/atelier-cave","base16/atelier-cave-light","base16/atelier-dune","base16/atelier-dune-light","base16/atelier-estuary","base16/atelier-estuary-light","base16/atelier-forest","base16/atelier-forest-light","base16/atelier-heath","base16/atelier-heath-light","base16/atelier-lakeside","base16/atelier-lakeside-light","base16/atelier-plateau","base16/atelier-plateau-light","base16/atelier-savanna","base16/atelier-savanna-light","base16/atelier-seaside","base16/atelier-seaside-light","base16/atelier-sulphurpool","base16/atelier-sulphurpool-light","base16/atlas","base16/bespin","base16/black-metal","base16/black-metal-bathory","base16/black-metal-burzum","base16/black-metal-dark-funeral","base16/black-metal-gorgoroth","base16/black-metal-immortal","base16/black-metal-khold","base16/black-metal-marduk","base16/black-metal-mayhem","base16/black-metal-nile","base16/black-metal-venom","base16/brewer","base16/bright","base16/brogrammer","base16/brush-trees","base16/brush-trees-dark","base16/chalk","base16/circus","base16/classic-dark","base16/classic-light","base16/codeschool","base16/colors","base16/cupcake","base16/cupertino","base16/danqing","base16/darcula","base16/dark-violet","base16/darkmoss","base16/darktooth","base16/decaf","base16/default-dark","base16/default-light","base16/dirtysea","base16/dracula","base16/edge-dark","base16/edge-light","base16/eighties","base16/embers","base16/equilibrium-dark","base16/equilibrium-gray-dark","base16/equilibrium-gray-light","base16/equilibrium-light","base16/espresso","base16/eva","base16/eva-dim","base16/flat","base16/framer","base16/fruit-soda","base16/gigavolt","base16/github","base16/google-dark","base16/google-light","base16/grayscale-dark","base16/grayscale-light","base16/green-screen","base16/gruvbox-dark-hard","base16/gruvbox-dark-medium","base16/gruvbox-dark-pale","base16/gruvbox-dark-soft","base16/gruvbox-light-hard","base16/gruvbox-light-medium","base16/gruvbox-light-soft","base16/hardcore","base16/harmonic16-dark","base16/harmonic16-light","base16/heetch-dark","base16/heetch-light","base16/helios","base16/hopscotch","base16/horizon-dark","base16/horizon-light","base16/humanoid-dark","base16/humanoid-light","base16/ia-dark","base16/ia-light","base16/icy-dark","base16/ir-black","base16/isotope","base16/kimber","base16/london-tube","base16/macintosh","base16/marrakesh","base16/materia","base16/material","base16/material-darker","base16/material-lighter","base16/material-palenight","base16/material-vivid","base16/mellow-purple","base16/mexico-light","base16/mocha","base16/monokai","base16/nebula","base16/nord","base16/nova","base16/ocean","base16/oceanicnext","base16/one-light","base16/onedark","base16/outrun-dark","base16/papercolor-dark","base16/papercolor-light","base16/paraiso","base16/pasque","base16/phd","base16/pico","base16/pop","base16/porple","base16/qualia","base16/railscasts","base16/rebecca","base16/ros-pine","base16/ros-pine-dawn","base16/ros-pine-moon","base16/sagelight","base16/sandcastle","base16/seti-ui","base16/shapeshifter","base16/silk-dark","base16/silk-light","base16/snazzy","base16/solar-flare","base16/solar-flare-light","base16/solarized-dark","base16/solarized-light","base16/spacemacs","base16/summercamp","base16/summerfruit-dark","base16/summerfruit-light","base16/synth-midnight-terminal-dark","base16/synth-midnight-terminal-light","base16/tango","base16/tender","base16/tomorrow","base16/tomorrow-night","base16/twilight","base16/unikitty-dark","base16/unikitty-light","base16/vulcan","base16/windows-10","base16/windows-10-light","base16/windows-95","base16/windows-95-light","base16/windows-high-contrast","base16/windows-high-contrast-light","base16/windows-nt","base16/windows-nt-light","base16/woodland","base16/xcode-dusk","base16/zenburn"];const w="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/",q=e=>{const[s,t]=e.split("/");return`${(t??s).split(/[ -]/).map(r=>r[0].toUpperCase()+r.slice(1)).join(" ")} ${t?"[BASE16]":""}`},D=e=>({url:new URL(e+".min.css",w).href,name:q(e)}),P=B.map(D).sort((e,s)=>e.name.localeCompare(s.name)),O=d.findByProps("selectPositionTop").option;var R=e=>{p.useEffect(()=>{e?.current?.firstChild?.onclick&&(e.current.firstChild.onclick=U)})};const U=()=>{setTimeout(m,25),setTimeout(m,50),setTimeout(m,75),setTimeout(m,100)},m=()=>{const e=Array.from(document.getElementsByClassName(O)),s=e.findIndex(r=>r.ariaSelected==="true");if(s===-1)return;const t=e[0].scrollHeight;e[0].parentElement.scroll(0,t*Math.max(0,s-3))},{SingleSelect:I}=d.findByDisplayName("Select",!1),g=d.findByProps("Sizes","Tags"),M=d.findByDisplayName("TextInput"),A=d.findByDisplayName("Switch"),F=`const btn = document.getElementById("btn");
let count = 0;
function render() {
    btn.innerText = \`Count: \${count}\`;
}
btn.addEventListener("click", () => {
    // Count from 1 to 10.
    if (count < 10) {
        count += 1;
        render();
    }
});`;var H=()=>{k.useNest(n.persist);const[e,s]=a.useState(n.persist.ghost.custom),t=P.map(({name:o,url:b})=>({value:b,label:o})),r=[{label:"Discord default"}].concat(t),l=a.useRef();return R(l),a.createElement(a.Fragment,null,a.createElement(y,{lang:"js",codeText:F}),a.createElement(g,{className:"ysink_code_head"},"Select theme"),a.createElement("div",{ref:l,style:{display:"children"}},a.createElement(I,{options:r,value:n.persist.ghost.theme||void 0,onChange:o=>n.persist.store.theme=o,isDisabled:e})),a.createElement(g,{className:"ysink_code_head"},"Custom theme url"),a.createElement(M,{placeholder:"Custom theme URL",onChange:o=>s(n.persist.store.theme=n.persist.store.custom=o),value:e}),a.createElement(g,{className:"ysink_code_head"},"Show line numbers"),a.createElement(A,{checked:n.persist.ghost.nums??!0,onChange:o=>n.persist.store.nums=o,className:"ysink_code_mbottom"}))};d.findByProps("markup").markup;const G=()=>{let e=c.injectCSS(`.hljs {
            background: url(${new URL("brown-papersq.png",w).href});
        }`),s=i.default.unloadTheme;i.default.unloadTheme=()=>{e(),s?.()}},J=async e=>{const s=await(await fetch(e)).text();i.default.unloadTheme?.(),i.default.unloadTheme=c.injectCSS(s),e.includes("brown-paper")&&G(),h.log("|| codeblocks plus || Loaded hljs theme successfully ")},v=async()=>{i.default.persist.ghost.theme?await J(i.default.persist.ghost.theme):(i.default.unloadTheme?.(),h.warn("|| codeblocks plus || No theme set in nest"))};var K=()=>{v();const e=(s,{path:t,__:r})=>{t[0]==="theme"&&v()};return i.default.persist.on("SET",e),i.default.persist.on("DELETE",e),()=>{i.default.persist.off("SET",e),i.default.persist.off("DELETE",e),i.default.unloadTheme?.()}},Q=()=>{let e=[L(),K(),z()];return{onUnload:()=>e.reduceRight((s,t)=>t?.(),null),settings:H}};return Q})(cumcord.modules.common.React,cumcord.modules.webpack,cumcord.patcher,cumcord.pluginData,cumcord.utils,cumcord.modules.common.highlightjs,cumcord.utils.logger,cumcord.ui.components);
